(function(){$(document).ready(function(){$(".tooltip-bottom").tooltipster({animation:"fade",delay:200,theme:"tooltipster-light",touchDevices:!0,trigger:"hover",position:"bottom"}),$(".tooltip-left").tooltipster({animation:"fade",delay:200,theme:"tooltipster-light",touchDevices:!0,trigger:"hover",position:"left"}),$(".tooltip-right").tooltipster({animation:"fade",delay:200,theme:"tooltipster-light",touchDevices:!0,trigger:"hover",position:"right"}),$(".tooltip").tooltipster({animation:"fade",delay:200,theme:"tooltipster-light",touchDevices:!0,trigger:"hover"})}),function(){var t,o,e,i,n,a;for(n=document.getElementById("nav"),t=n.getElementsByTagName("a"),a=window.location,o=window.location.pathname,i=0;i<t.length;)e=t[i].pathname,e===o&&(t[i].className="item selected"),i++}()}).call(this),function(){!function(t){t.fn.boxRefresh=function(o){var e,i,n,a;return n=t.extend({trigger:".refresh-btn",source:"",onLoadStart:function(){},onLoadDone:function(){}},o),i=t('<div class="overlay"><div class="ui active centered large inline loader"></div></div>'),a=function(t){t.append(i),n.onLoadStart.call(t)},e=function(t){t.find(i).remove(),n.onLoadDone.call(t)},this.each(function(){var o,i;return""===n.source?void(console&&console.log("Please specify a source first - boxRefresh()")):(o=t(this),i=o.find(n.trigger).first(),void i.on("click",function(t){t.preventDefault(),a(o),o.find(".box-body").load(n.source,function(){e(o)})}))})}}(jQuery)}.call(this),function(){$.ItwayIO.cValidator={ytVidId:function(t){var o;return o=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,t.match(o)?RegExp.$1:!1},githubLNK:function(t,o){var e,i,n,a,r,l;e=this;try{return r=e.githubLNKre(o).exec(t.replace(/\.git(#.*)?$/,"")),a=r[1],l=r[2],"https://"+a+"/"+l}catch(n){i=n}},githubLNKre:function(t){var o;return t=t||{},o=["gist.github.com","github.com"].concat(t.extraBaseUrls||[]),new RegExp(/^(?:https?:\/\/|git:\/\/|git\+ssh:\/\/|git\+https:\/\/)?(?:[^@]+@)?/.source+"("+o.join("|")+")"+/[:\/]([^\/]+\/[^\/]+?|[0-9]+)$/.source)}}}.call(this),function(){!function(t){t.fn.dropit=function(o){var e;return e={init:function(o){return this.dropit.settings=t.extend({},this.dropit.defaults,o),this.each(function(){var o,e,i;o=t(this),e=this,i=t.fn.dropit.settings,o.addClass("dropit").find(">"+i.triggerParentEl+":has("+i.submenuEl+")").addClass("dropit-trigger").find(i.submenuEl).addClass("dropit-submenu").hide(),o.off(i.action).on(i.action,i.triggerParentEl+":has("+i.submenuEl+") > "+i.triggerEl,function(){return"click"===i.action&&t(this).parents(i.triggerParentEl).hasClass("dropit-open")?(i.beforeHide.call(this),t(this).parents(i.triggerParentEl).removeClass("dropit-open").find(i.submenuEl).hide(),i.afterHide.call(this),!1):(i.beforeHide.call(this),t(".dropit-open").removeClass("dropit-open").find(".dropit-submenu").hide(),i.afterHide.call(this),i.beforeShow.call(this),t(this).parents(i.triggerParentEl).addClass("dropit-open").find(i.submenuEl).show(),i.afterShow.call(this),!1)}),t(document).on("click",function(){i.beforeHide.call(this),t(".dropit-open").removeClass("dropit-open").find(".dropit-submenu").hide(),i.afterHide.call(this)}),"mouseenter"===i.action&&o.on("mouseleave",".dropit-open",function(){i.beforeHide.call(this),t(this).removeClass("dropit-open").find(i.submenuEl).hide(),i.afterHide.call(this)}),i.afterLoad.call(this)})}},e[o]?e[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void t.error('Method "'+o+'" does not exist in dropit plugin!'):e.init.apply(this,arguments)},t.fn.dropit.defaults={action:"click",submenuEl:"ul",triggerEl:"a",triggerParentEl:"li",afterLoad:function(){},beforeShow:function(){},afterShow:function(){},beforeHide:function(){},afterHide:function(){}},t.fn.dropit.settings={}}(jQuery),$("#alertlink").dropit()}.call(this),function(){$.ItwayIO.githubDialog={o:{dialog:$("[data-remodal-id='github']"),button:$("[data-remodal-id='github'] .remodal-confirm"),input:$("[name='github-link']"),addonBtn:$("a.github-link"),timer:void 0,warningTempl:'<div class="text-danger">The url doesnt match github repo link.</div>',formInput:function(t){return"<input name='github_link' hidden class='hidden' data-github-id='github-input' value='"+t+"'/>"},dialogTempl:'<div class="github-input-success input-success "> <i class="icon-plus_one"></i> </div>'},initialize:function(){var t,o;return t=this,t.resolveWithTime(),o=$.ItwayIO.cValidator.githubLNK(t.o.input.val()),t.o.button.on("click",function(){return!o&&t.o.input.val().length<=6?(t.stop(),$("[data-github-id='github-input']").attr("value",null),t.resolveAddon()):(t.o.dialog.find(".text-danger").remove(),t.o.dialog.addClass("approved"),$("[data-github-id='github-input']").length<1?t.o.addonBtn.after(t.o.formInput(t.o.input.val())):$("[data-github-id='github-input']").attr("value",t.o.input.val()),t.resolveAddon())}),o?(t.o.dialog.addClass("approved"),t.o.dialog.find(".modal-form").after(t.o.dialogTempl),t.resolveAddon()):(t.o.dialog.removeClass("approved"),t.resolveAddon())},resolveWithTime:function(){var t;return t=this,t.o.input.keyup(function(o){return 13===o.keyCode&&$(o.target).val().length>5&&$.ItwayIO.cValidator.ytVidId(t.o.input.val())||$(o.target).val().length>5&&$.ItwayIO.cValidator.githubLNK(t.o.input.val())?(t.o.dialog.find(".github-input-success").length>=1&&t.o.dialog.find(".github-input-success").remove(),t.o.dialog.find(".text-danger").remove(),t.resolve()):(t.o.dialog.removeClass("approved"),t.stop(),t.o.dialog.find(".text-danger").length<1&&t.o.dialog.find(".modal-form").after(t.o.warningTempl),t.o.dialog.find(".github-input-success").remove())})},resolve:function(){var t,o;return t=this,o=function(){return $.ItwayIO.cValidator.githubLNK(t.o.input.val()),t.o.dialog.find(".modal-form").after(t.o.dialogTempl)},t.o.timer=setTimeout(o(),3e3)},stop:function(){var t;return t=this,clearTimeout(t.o.timer)},resolveAddon:function(){var t;return t=this,t.o.addonBtn.find(".addon").remove(),t.o.dialog.hasClass("approved")?t.o.addonBtn.prepend("<span class='addon'><b class='text-danger'>+1</b> added</span>"):t.o.addonBtn.find(".addon").remove()}},$.ItwayIO.githubDialog.initialize()}.call(this),function(){$.ItwayIO.imageDialog={o:{addonBtn:$("a.photo"),dialog:$("[data-remodal-id='photo']"),photoBlock:$(".photo-block"),photoinput:$("#photoUpload").attr("accept","image/jpeg,image/png,image/gif"),button:$("[data-remodal-id='photo'] .remodal-confirm"),templateImage:function(t,o){return"<div class='s-12 m-12 l-12 xs-12'><div class='thumbnail' style='background: #ffffff'><img class=\"img-responsive\" src='"+t+"' /><div class='caption' style='position: absolute;right: 10px;top:10px;'> <h4  style='background: black;padding: 4px; color: white'>"+o+" Mb </h4></div></div> </div> "}},activate:function(){var t;t=this,t.initiateDialogImage()},renderDialogImage:function(t,o,e){var i,n,a;i=this,a=new FileReader,n=new Image,a.onload=function(a){n.src=a.target.result,n.onload=function(){var o,a,r,l,d,s;s=this.width,o=this.height,d=t.type,a=t.name,r=~~(t.size/1024)/1024,l=e.thumbnail_size,i.o.photoBlock.append(i.o.templateImage(n.src,r.toFixed(2))),i.renderLabelFileName(a,"success")},n.onerror=function(){alert("Invalid file type: "+t.type),i.renderLabelFileName(t.name,"error"),o.val(null)}},a.readAsDataURL(t)},resolveAddon:function(){var t;return t=this,t.o.addonBtn.find(".addon").remove(),t.o.dialog.hasClass("approved")?t.o.addonBtn.prepend("<span class='addon'><b class='text-danger'>+1</b> added</span>"):t.o.addonBtn.find(".addon").remove()},renderLabelFileName:function(t,o){var e,i;return e=this,i=$(".filelabel"),(i.find("span.text-info").length>0||i.find("span.text-danger").length>0)&&(i.find("span.text-info").remove(),i.find("span.text-danger").remove()),$(".filelabel").append("success"===o?$("<span>").addClass("text-info").text(t).css({"font-size":"100%",display:"inline-block","font-weight":"normal","margin-left":"1em","font-style":"normal"}):$("<span>").addClass("text-danger").text(t+" format is not valid").css({"font-size":"100%",display:"inline-block","font-weight":"normal","margin-left":"1em","font-style":"normal"}))},confirmImage:function(t){var o;return o=this,o.o.button.on("click",function(){var e;return $("[data-photo-id='photo-input']").length<1?(e=t.attr("data-photo-id","photo-input"),o.o.addonBtn.after(e)):($("[data-photo-id='photo-input']").remove(),e=t.attr("data-photo-id","photo-input"),o.o.addonBtn.after(e)),o.o.dialog.addClass("approved"),o.resolveAddon()})},initiateDialogImage:function(){var t,o;t=this,o={thumbnail_size:460,thumbnail_bg_color:"#ddd",thumbnail_border:"1px solid #fff",thumbnail_shadow:"0 0 0px rgba(0, 0, 0, 0.5)",label_text:"",warning_message:"Not an image file.",warning_text_color:"#f00",input_class:"custom-file-input button button-primary button-block"},t.o.photoinput.change(function(e){var i,n;if(t.o.photoBlock.html(""),this.disabled)return alert("File upload not supported!");if(i=this.files,i&&i[0])for(n=0;n<i.length;)i[n].type.match("image.*")?(t.renderDialogImage(i[n],t.o.photoinput,o),t.confirmImage($(e.target))):(t.renderLabelFileName(i[n].name,"error"),t.o.dialog.removeClass("approved")),n++})}},$.ItwayIO.imageDialog.activate()}.call(this),function(){$.ItwayIO.likeBTN={o:{formID:$("#like"),buttonID:$("#like button"),base_url:$("#like button").attr("data-base-url"),class_name:$("#like button").attr("data_class_name"),object_id:$("#like button").attr("data_object_id"),label:$("#like .label"),redirectIFerror:"http://www.itway.io/auth/login"},activate:function(){var t;t=this,console.log(t.o.formID,t.o.base_url),0!==t.o.formID.length&&t.o.buttonID.on("click",function(){var o,e;o=t.o.buttonID,e=o.find("i"),$.ajax({type:"GET",url:t.o.base_url,data:{class_name:t.o.class_name,object_id:t.o.object_id},success:function(o){"error"===o&&(window.location.href=t.o.redirectIFerror),"liked"===o[0]?(e.addClass("text-danger"),e.removeClass("icon-favorite_outline"),e.addClass("icon-favorite"),t.o.label.html(o[1]),t.o.formID.find(".label").after($("<span/>",{text:o[2],"class":"like-message"})),$("span .like-message").animate({opacity:.25,left:"+=50",height:"toggle"},200)):(e.removeClass("text-danger"),e.addClass("icon-favorite_outline"),e.removeClass("icon-favorite"),t.o.label.html(o[1]),t.o.formID.find(".like-message").remove())},error:function(t){console.log("error   "+t)}},"html")})}},$.ItwayIO.likeBTN.activate()}.call(this),function(){$.ItwayIO.notifier={o:{host:"http://"+window.location.hostname,socket:io("http://www.itway.io:6378"),notifyBlock:$(".notify"),notifyArea:$(".notify .panel"),notifyBtn:$("#alertlink"),warningTempl:'<div class="text-danger">Something happened.</div>',notifyTempl:function(t,o,e,i,n){return'<li class="activity"> <a class="link" href="'+e+'"> <span class="ui tag tiny label">@{instance}</span> <span class="link-block"> <span class="title">'+i+'</span> <span class="author"> <span>author:</span>'+n+"</span> </span></a> </li>"}},activate:function(){var t;return t=this,t.newInstanceCreated()},newInstanceCreated:function(){var t;return t=this,t.o.socket.on("post-created:itway\\Events\\PostWasCreatedEvent",function(e){return t.o.notifyArea.prepend(t.o.notifyTempl(o.host,e.keys[0],e.link(e.title,e.user.name))),t.addNotifiedState()})},addNotifiedState:function(){var t;return t=this,t.o.notifyBtn.prepend('<span class="has-notify"></span>')},removeNotifiedState:function(){var t;return t=this,t.o.notifyBtn.bind("click",function(){return $(this).find("span.has-notify").length>0?$(this).find("span.has-notify").remove():void 0})},toggleNotify:function(){var t;return t=this,t.o.notifyBtn.dropit()}},$.ItwayIO.notifier.activate()}.call(this),function(){$.ItwayIO.poll={o:{pollOptions:$("#pollOptions")},activate:function(){var t;t=this,t.events()},events:function(){var t;t=this,t.addOption(),t.removeOption()},addOption:function(){var t,o,e;t=this,e=$("#pollOptions .options-block:first").clone(),o=1,$("body").on("click",".add_new",function(){var t,i;return o++,t=$("#pollOptions .options-block").length,i=e.clone().find(":input").each(function(){var o;console.log(t),o=this.id+Number(t+1),$(this).prev().attr("for",o).text(t+1),this.id=o}).end().appendTo("#pollOptions"),!1})},removeOption:function(){var t;t=this,t.o.pollOptions.on("click",".remove",function(){$(this).fadeOut(300,function(){var t,o,e;for(o=$("#pollOptions .options-block").length,o>1&&$(this).parent().remove(),console.log(o),t=0;o>=t;)e="option-id"+Number(t+1),$("#pollOptions .options-block input").eq(t).attr("id",e),$("#pollOptions .options-block i.icon-circle").eq(t).attr("for",e).text(t+1),t++;return!1})})}},$.ItwayIO.poll.activate()}.call(this),function(){!function(t){t.fn.todolist=function(o){var e;return e=t.extend({onCheck:function(){},onUncheck:function(){}},o),this.each(function(){"undefined"!=typeof t.fn.iCheck?(t("input",this).on("ifChecked",function(){var o;o=t(this).parents("li").first(),o.toggleClass("done"),e.onCheck.call(o)}),t("input",this).on("ifUnchecked",function(){var o;o=t(this).parents("li").first(),o.toggleClass("done"),e.onUncheck.call(o)})):t("input",this).on("change",function(){var o;o=t(this).parents("li").first(),o.toggleClass("done"),e.onCheck.call(o)})})}}(jQuery)}.call(this),function(){$.ItwayIO.youtubeDialog={o:{dialog:$("[data-remodal-id='youtube']"),button:$("[data-remodal-id='youtube'] .remodal-confirm"),input:$("[name='youtube-link']"),addonBtn:$("a.youtube"),timer:void 0,warningTempl:'<div class="text-danger">The url doesnt match youtube video link.</div>',formInput:function(t){return"<input name='youtube_link' hidden class='hidden' data-youtube-id='youtube-input' value='"+t+"'/>"},dialogTempl:function(t){return"<div class=\"embed-responsive embed-responsive-16by9\"> <iframe id='youtubeVideo' src='https://www.youtube.com/embed/"+t+'\' frameborder="0" allowfullscreen></iframe/> </div>'}},initialize:function(){var t,o;return t=this,t.resolveWithTime(),o=$.ItwayIO.cValidator.ytVidId(t.o.input.val()),t.o.button.on("click",function(){return!o&&t.o.input.val().length<=6?(t.stop(),$("[data-youtube-id='youtube-input']").attr("value",null),t.resolveAddon()):(t.o.dialog.find(".text-danger").remove(),t.o.dialog.addClass("approved"),$("[data-youtube-id='youtube-input']").length<1?t.o.addonBtn.after(t.o.formInput($.ItwayIO.cValidator.ytVidId(t.o.input.val()))):$("[data-youtube-id='youtube-input']").attr("value",$.ItwayIO.cValidator.ytVidId(t.o.input.val())),t.resolveAddon())}),o?(t.o.dialog.addClass("approved"),t.o.dialog.find(".modal-form").after(t.o.dialogTempl(o)),t.resolveAddon()):(t.o.dialog.removeClass("approved"),t.resolveAddon())},resolveWithTime:function(){var t;return t=this,t.o.input.keyup(function(o){return 13===o.keyCode&&$(o.target).val().length>5&&$.ItwayIO.cValidator.ytVidId(t.o.input.val())||$(o.target).val().length>5&&$.ItwayIO.cValidator.ytVidId(t.o.input.val())?(t.o.dialog.find(".embed-responsive-16by9").length>=1&&t.o.dialog.find(".embed-responsive-16by9").remove(),t.o.dialog.find(".text-danger").remove(),t.resolve()):(t.o.dialog.removeClass("approved"),t.stop(),t.o.dialog.find(".text-danger").length<1&&t.o.dialog.find(".modal-form").after(t.o.warningTempl),t.o.dialog.find(".embed-responsive-16by9").remove())})},resolve:function(){var t,o;return t=this,o=function(){var o;return o=$.ItwayIO.cValidator.ytVidId(t.o.input.val()),t.o.dialog.find(".modal-form").after(t.o.dialogTempl(o))},t.o.timer=setTimeout(o(),3e3)},stop:function(){var t;return t=this,clearTimeout(t.o.timer)},resolveAddon:function(){var t;return t=this,t.o.addonBtn.find(".addon").remove(),t.o.dialog.hasClass("approved")?t.o.addonBtn.prepend("<span class='addon'><b class='text-danger'>+1</b> added</span>"):t.o.addonBtn.find(".addon").remove()}},$.ItwayIO.youtubeDialog.initialize()}.call(this);