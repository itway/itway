{"version":3,"sources":["poll.coffee"],"names":[],"mappings":";AAAA;;;;AAAA;EAGA,CAAC,CAAC,OAAO,CAAC,IAAV,GACE;IAAA,CAAA,EACE;MAAA,WAAA,EAAa,CAAA,CAAE,cAAF,CAAb;KADF;IAEA,QAAA,EAAU,SAAA;AACR,UAAA;MAAA,KAAA,GAAQ;MACR,KAAK,CAAC,MAAN,CAAA;IAFQ,CAFV;IAMA,MAAA,EAAQ,SAAA;AACN,UAAA;MAAA,KAAA,GAAQ;MAER,KAAK,CAAC,SAAN,CAAA;MACA,KAAK,CAAC,YAAN,CAAA;IAJM,CANR;IAYA,SAAA,EAAW,SAAA;AACT,UAAA;MAAA,KAAA,GAAQ;MAER,QAAA,GAAW,CAAA,CAAE,mCAAF,CAAsC,CAAC,KAAvC,CAAA;MAEX,aAAA,GAAgB;MAEhB,CAAA,CAAE,MAAF,CAAS,CAAC,EAAV,CAAa,OAAb,EAAsB,UAAtB,EAAkC,SAAA;AAChC,YAAA;QAAA,aAAA;QACA,WAAA,GAAc,CAAA,CAAE,6BAAF,CAAgC,CAAC;QAE/C,OAAA,GAAU,QAAQ,CAAC,KAAT,CAAA,CAAgB,CAAC,IAAjB,CAAsB,QAAtB,CAA+B,CAAC,IAAhC,CAAqC,SAAA;AAE7C,cAAA;UAAA,OAAO,CAAC,GAAR,CAAY,WAAZ;UACA,KAAA,GAAQ,IAAC,CAAA,EAAD,GAAM,MAAA,CAAO,WAAA,GAAc,CAArB;UAEd,CAAA,CAAE,IAAF,CAAO,CAAC,IAAR,CAAA,CAAc,CAAC,IAAf,CAAoB,KAApB,EAA2B,KAA3B,CAAiC,CAAC,IAAlC,CAAuC,WAAA,GAAc,CAArD;UAEA,IAAC,CAAA,EAAD,GAAM;QAPuC,CAArC,CAST,CAAC,GATQ,CAAA,CASH,CAAC,QATE,CASO,cATP;eAUV;MAdgC,CAAlC;IAPS,CAZX;IAmCA,YAAA,EAAc,SAAA;AACZ,UAAA;MAAA,KAAA,GAAQ;MACR,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,EAApB,CAAuB,OAAvB,EAAgC,SAAhC,EAA2C,SAAA;QAEzC,CAAA,CAAE,IAAF,CAAO,CAAC,OAAR,CAAgB,GAAhB,EAAqB,SAAA;AAEnB,cAAA;UAAA,WAAA,GAAc,CAAA,CAAE,6BAAF,CAAgC,CAAC;UAC/C,IAAG,WAAA,GAAc,CAAjB;YACE,CAAA,CAAE,IAAF,CAAO,CAAC,MAAR,CAAA,CAAgB,CAAC,MAAjB,CAAA,EADF;;UAEA,OAAO,CAAC,GAAR,CAAY,WAAZ;UACA,CAAA,GAAI;AACJ,iBAAM,CAAA,IAAK,WAAX;YACI,KAAA,GAAQ,WAAA,GAAc,MAAA,CAAO,CAAA,GAAI,CAAX;YACtB,CAAA,CAAE,mCAAF,CAAsC,CAAC,EAAvC,CAA0C,CAA1C,CAA4C,CAAC,IAA7C,CAAkD,IAAlD,EAAwD,KAAxD;YACA,CAAA,CAAE,2CAAF,CAA8C,CAAC,EAA/C,CAAkD,CAAlD,CAAoD,CAAC,IAArD,CAA0D,KAA1D,EAAiE,KAAjE,CAAuE,CAAC,IAAxE,CAA6E,CAAA,GAAI,CAAjF;YACA,CAAA;UAJJ;iBAKA;QAZmB,CAArB;MAFyC,CAA3C;IAFY,CAnCd;;;EAsDF,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,QAAf,CAAA;AA1DA","file":"poll.js","sourceRoot":"/source/","sourcesContent":["###\r\n  poll functionality\r\n###\r\n$.ItwayIO.poll =\r\n  o:\r\n    pollOptions: $('#pollOptions')\r\n  activate: ->\r\n    _this = this\r\n    _this.events()\r\n    return\r\n  events: ->\r\n    _this = this\r\n    #quizOptions.find(\".options-block .add_new\").on(\"click\", _this.addOption(e));\r\n    _this.addOption()\r\n    _this.removeOption()\r\n    return\r\n  addOption: ->\r\n    _this = this\r\n    #define template\r\n    template = $('#pollOptions .options-block:first').clone()\r\n    #define counter\r\n    sectionsCount = 1\r\n    #add new section\r\n    $('body').on 'click', '.add_new', ->\r\n      sectionsCount++\r\n      lengthInput = $('#pollOptions .options-block').length\r\n      #loop through each input\r\n      section = template.clone().find(':input').each(->\r\n        #set id to store the updated section number\r\n        console.log lengthInput\r\n        newId = @id + Number(lengthInput + 1)\r\n        #update for label\r\n        $(this).prev().attr('for', newId).text lengthInput + 1\r\n        #update id\r\n        @id = newId\r\n        return\r\n      ).end().appendTo('#pollOptions')\r\n      false\r\n    return\r\n  removeOption: ->\r\n    _this = this\r\n    _this.o.pollOptions.on 'click', '.remove', ->\r\n      #fade out section\r\n      $(this).fadeOut 300, ->\r\n        #remove parent element (main section)\r\n        lengthInput = $('#pollOptions .options-block').length\r\n        if lengthInput > 1\r\n          $(this).parent().remove()\r\n        console.log lengthInput\r\n        i = 0\r\n        while i <= lengthInput\r\n            newId = 'option-id' + Number(i + 1)\r\n            $('#pollOptions .options-block input').eq(i).attr 'id', newId\r\n            $('#pollOptions .options-block i.icon-circle').eq(i).attr('for', newId).text i + 1\r\n            i++\r\n        false\r\n      return\r\n    return\r\n$.ItwayIO.poll.activate()\r\n"]}