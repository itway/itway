{"version":3,"sources":["likebtn.coffee"],"names":[],"mappings":";AAAA;;;;AAAA;EAGA,CAAC,CAAC,OAAO,CAAC,OAAV,GACE;IAAA,CAAA,EACE;MAAA,MAAA,EAAQ,CAAA,CAAE,OAAF,CAAR;MACA,QAAA,EAAU,CAAA,CAAE,cAAF,CADV;MAEA,QAAA,EAAU,CAAA,CAAE,cAAF,CAAiB,CAAC,IAAlB,CAAuB,eAAvB,CAFV;MAGA,UAAA,EAAY,CAAA,CAAE,cAAF,CAAiB,CAAC,IAAlB,CAAuB,iBAAvB,CAHZ;MAIA,SAAA,EAAW,CAAA,CAAE,cAAF,CAAiB,CAAC,IAAlB,CAAuB,gBAAvB,CAJX;MAKA,KAAA,EAAO,CAAA,CAAE,cAAF,CALP;MAMA,eAAA,EAAiB,gCANjB;KADF;IAQA,QAAA,EAAU,SAAA;AACR,UAAA;MAAA,KAAA,GAAQ;MACR,IAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,MAAf,KAAyB,CAA5B;QACE,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAjB,CAAoB,OAApB,EAA6B,SAAC,CAAD;AAC3B,cAAA;UAAA,MAAA,GAAS,KAAK,CAAC,CAAC,CAAC;UACjB,OAAA,GAAU,MAAM,CAAC,IAAP,CAAY,GAAZ;UACV,CAAC,CAAC,IAAF,CAAO;YACL,IAAA,EAAM,KADD;YAEL,GAAA,EAAK,KAAK,CAAC,CAAC,CAAC,QAFR;YAGL,IAAA,EACE;cAAA,YAAA,EAAc,KAAK,CAAC,CAAC,CAAC,UAAtB;cACA,WAAA,EAAa,KAAK,CAAC,CAAC,CAAC,SADrB;aAJG;YAML,OAAA,EAAS,SAAC,IAAD;cACP,IAAG,IAAA,KAAQ,OAAX;gBACE,MAAM,CAAC,QAAQ,CAAC,IAAhB,GAAuB,KAAK,CAAC,CAAC,CAAC,gBADjC;;cAEA,IAAG,IAAK,CAAA,CAAA,CAAL,KAAW,OAAd;gBACE,OAAO,CAAC,QAAR,CAAiB,aAAjB;gBACA,OAAO,CAAC,WAAR,CAAoB,uBAApB;gBACA,OAAO,CAAC,QAAR,CAAiB,eAAjB;gBACA,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAd,CAAmB,IAAK,CAAA,CAAA,CAAxB;gBACA,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,QAApB,CAA6B,CAAC,KAA9B,CAAoC,CAAA,CAAE,SAAF,EAClC;kBAAA,MAAA,EAAQ,IAAK,CAAA,CAAA,CAAb;kBACA,OAAA,EAAS,cADT;iBADkC,CAApC;gBAGA,CAAA,CAAE,oBAAF,CAAuB,CAAC,OAAxB,CAAgC;kBAC9B,OAAA,EAAS,IADqB;kBAE9B,IAAA,EAAM,MAFwB;kBAG9B,MAAA,EAAQ,QAHsB;iBAAhC,EAIG,GAJH,EARF;eAAA,MAAA;gBAcE,OAAO,CAAC,WAAR,CAAoB,aAApB;gBACA,OAAO,CAAC,QAAR,CAAiB,uBAAjB;gBACA,OAAO,CAAC,WAAR,CAAoB,eAApB;gBACA,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAd,CAAmB,IAAK,CAAA,CAAA,CAAxB;gBACA,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,eAApB,CAAoC,CAAC,MAArC,CAAA,EAlBF;;YAHO,CANJ;YA6BL,KAAA,EAAO,SAAC,IAAD;cACL,OAAO,CAAC,GAAR,CAAY,OAAA,GAAU,KAAV,GAAkB,IAA9B;YADK,CA7BF;WAAP,EAiCG,MAjCH;QAH2B,CAA7B,EADF;;IAFQ,CARV;;;EAkDF,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,QAAlB,CAAA;AAtDA","file":"likebtn.js","sourceRoot":"/source/","sourcesContent":["###\r\n  like button functionality\r\n###\r\n$.ItwayIO.likeBTN =\r\n  o:\r\n    formID: $(\"#like\")\r\n    buttonID: $(\"#like button\")\r\n    base_url: $(\"#like button\").attr(\"data-base-url\")\r\n    class_name: $(\"#like button\").attr(\"data_class_name\")\r\n    object_id: $(\"#like button\").attr(\"data_object_id\")\r\n    label: $(\"#like .label\")\r\n    redirectIFerror: \"http://www.itway.io/auth/login\"\r\n  activate: () ->\r\n    _this = this\r\n    if _this.o.formID.length != 0\r\n      _this.o.buttonID.on \"click\", (e) ->\r\n        button = _this.o.buttonID\r\n        buttonI = button.find('i')\r\n        $.ajax {\r\n          type: 'GET'\r\n          url: _this.o.base_url\r\n          data:\r\n            'class_name': _this.o.class_name\r\n            'object_id': _this.o.object_id\r\n          success: (data) ->\r\n            if data == 'error'\r\n              window.location.href = _this.o.redirectIFerror\r\n            if data[0] == 'liked'\r\n              buttonI.addClass 'text-danger'\r\n              buttonI.removeClass 'icon-favorite_outline'\r\n              buttonI.addClass 'icon-favorite'\r\n              _this.o.label.html data[1]\r\n              _this.o.formID.find(\".label\").after $('<span/>',\r\n                'text': data[2]\r\n                'class': 'like-message')\r\n              $('span .like-message').animate {\r\n                opacity: 0.25\r\n                left: '+=50'\r\n                height: 'toggle'\r\n              }, 200\r\n            else\r\n              buttonI.removeClass 'text-danger'\r\n              buttonI.addClass 'icon-favorite_outline'\r\n              buttonI.removeClass 'icon-favorite'\r\n              _this.o.label.html data[1]\r\n              _this.o.formID.find('.like-message').remove()\r\n            return\r\n          error: (data) ->\r\n            console.log 'error' + '   ' + data\r\n            return\r\n\r\n        }, 'html'\r\n        return\r\n    return\r\n$.ItwayIO.likeBTN.activate()"]}