{"version":3,"sources":["speakers-dialog.coffee"],"names":[],"mappings":"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","file":"../speakers-dialog.js","sourcesContent":["###\r\n  speakers dialog functionality\r\n###\r\n$.ItwayIO.speakersDialog =\r\n  o:\r\n    dialog: $(\"[data-remodal-id='speakers']\")\r\n    button: $(\"[data-remodal-id='speakers'] .remodal-confirm\")\r\n    input: $(\"[name='speakers']\")\r\n    inputSearch: $(\"speakersdrop  input.search\")\r\n    addonBtn: $(\"a.speakers\")\r\n    timer: undefined\r\n    warningTempl: \"<div class=\\\"text-danger\\\">Speakers Not Attached</div>\"\r\n    formInput: (val) ->\r\n      \"<input name='speakers' hidden class='hidden' data-speakers-id='speakers-input' value='#{val}'/>\"\r\n    dialogTempl:\r\n      \"<div class=\\\"speakers-input-success input-success \\\">\r\n      <i class=\\\"icon-ok\\\"></i>\r\n      </div>\"\r\n\r\n  initialize: ->\r\n    _this = this\r\n\r\n    _this.resolveWithTime()\r\n    ### if resolve link is youtube link it returns the link else returns false ###\r\n    speakers =  $.ItwayIO.cValidator.speakersNotEmpty(_this.o.input.val())\r\n    _this.o.button.on 'click', () ->\r\n      if !speakers && _this.o.input.val().length <= 6\r\n        _this.stop()\r\n        $(\"[data-speakers-id='speakers-input']\").attr('value', null)\r\n        _this.resolveAddon()\r\n\r\n      else\r\n        _this.o.dialog.find(\".text-danger\").remove()\r\n        _this.o.dialog.addClass \"approved\"\r\n        if $(\"[data-speakers-id='speakers-input']\").length < 1\r\n          _this.o.addonBtn.after _this.o.formInput(_this.o.input.val())\r\n        else $(\"[data-speakers-id='speakers-input']\").attr(\"value\",_this.o.input.val())\r\n        _this.resolveAddon()\r\n    if !speakers\r\n      _this.o.dialog.removeClass \"approved\"\r\n      _this.resolveAddon()\r\n    else\r\n      _this.o.dialog.addClass \"approved\"\r\n      _this.o.dialog.find('.modal-form').after(_this.o.dialogTempl)\r\n      _this.resolveAddon()\r\n\r\n  resolveWithTime: ->\r\n    _this = this\r\n    _this.o.inputSearch.keyup (e) ->\r\n      if (e.keyCode == 13 and $(e.target).val().length >= 2 and $.ItwayIO.cValidator.speakersNotEmpty(_this.o.input.val())) or ($(e.target).val().length >= 2 && $.ItwayIO.cValidator.speakersNotEmpty(_this.o.input.val()))\r\n        if _this.o.dialog.find('.speakers-input-success').length >= 1\r\n          _this.o.dialog.find('.speakers-input-success').remove()\r\n        _this.o.dialog.find(\".text-danger\").remove()\r\n        _this.resolve()\r\n      else\r\n        _this.o.dialog.removeClass(\"approved\")\r\n        _this.stop()\r\n        if _this.o.dialog.find(\".text-danger\").length < 1\r\n          _this.o.dialog.find('.modal-form').after(_this.o.warningTempl)\r\n        _this.o.dialog.find('.speakers-input-success').remove()\r\n  resolve: ->\r\n    _this = this\r\n    run = () ->\r\n      $.ItwayIO.cValidator.speakersNotEmpty(_this.o.input.val())\r\n      _this.o.dialog.find('.modal-form').after(_this.o.dialogTempl)\r\n    _this.o.timer = setTimeout(run(), 3000)\r\n  stop: ->\r\n    _this = this\r\n    clearTimeout _this.o.timer\r\n  resolveAddon: ->\r\n    _this = this\r\n    _this.o.addonBtn.find(\".addon\").remove()\r\n    if _this.o.dialog.hasClass \"approved\"\r\n      _this.o.addonBtn.prepend(\"<span class='addon'><b class='text-danger'>+1</b> added</span>\")\r\n    else _this.o.addonBtn.find(\".addon\").remove()\r\n\r\n$.ItwayIO.speakersDialog.initialize()\r\n"]}