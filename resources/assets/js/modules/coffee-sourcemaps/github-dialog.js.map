{"version":3,"sources":["github-dialog.coffee"],"names":[],"mappings":"AAAA;EAAA,CAAC,CAAC,OAAO,CAAC,YAAV,GACA;IAAA,CAAA,EACE;MAAA,MAAA,EAAQ,CAAA,CAAE,4BAAF,CAAR;MACA,MAAA,EAAQ,CAAA,CAAE,6CAAF,CADR;MAEA,KAAA,EAAO,CAAA,CAAE,sBAAF,CAFP;MAGA,QAAA,EAAU,CAAA,CAAE,eAAF,CAHV;MAIA,KAAA,EAAO,MAJP;MAKA,YAAA,EAAc,yEALd;MAMA,SAAA,EAAW,SAAC,GAAD;eACT,uFAAA,GAAwF,GAAxF,GAA4F;MADnF,CANX;MAQA,WAAA,EACE,4FATF;KADF;IAcA,UAAA,EAAY,SAAA;AACV,UAAA;MAAA,KAAA,GAAQ;MACR,KAAK,CAAC,eAAN,CAAA;;AACA;MACA,MAAA,GAAU,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,SAArB,CAA+B,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,GAAd,CAAA,CAA/B;MACV,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,EAAf,CAAkB,OAAlB,EAA2B,SAAA;QACzB,IAAG,CAAC,MAAD,IAAW,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,GAAd,CAAA,CAAmB,CAAC,MAApB,IAA8B,CAA5C;UACE,KAAK,CAAC,IAAN,CAAA;UACA,CAAA,CAAE,iCAAF,CAAoC,CAAC,IAArC,CAA0C,OAA1C,EAAmD,IAAnD;iBACA,KAAK,CAAC,YAAN,CAAA,EAHF;SAAA,MAAA;UAME,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,cAApB,CAAmC,CAAC,MAApC,CAAA;UACA,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,QAAf,CAAwB,UAAxB;UACA,IAAG,CAAA,CAAE,iCAAF,CAAoC,CAAC,MAArC,GAA8C,CAAjD;YACE,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAjB,CAAuB,KAAK,CAAC,CAAC,CAAC,SAAR,CAAkB,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,GAAd,CAAA,CAAlB,CAAvB,EADF;WAAA,MAAA;YAEK,CAAA,CAAE,iCAAF,CAAoC,CAAC,IAArC,CAA0C,OAA1C,EAAkD,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,GAAd,CAAA,CAAlD,EAFL;;iBAGA,KAAK,CAAC,YAAN,CAAA,EAXF;;MADyB,CAA3B;MAaA,IAAG,CAAC,MAAJ;QACE,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,WAAf,CAA2B,UAA3B;eACA,KAAK,CAAC,YAAN,CAAA,EAFF;;IAlBU,CAdZ;IAqCA,eAAA,EAAiB,SAAA;AACf,UAAA;MAAA,KAAA,GAAQ;aACR,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAd,CAAoB,SAAC,CAAD;QAClB,IAAG,CAAC,CAAC,CAAC,OAAF,KAAa,EAAb,IAAoB,CAAA,CAAE,CAAC,CAAC,MAAJ,CAAW,CAAC,GAAZ,CAAA,CAAiB,CAAC,MAAlB,GAA2B,CAA/C,IAAqD,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,OAArB,CAA6B,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,GAAd,CAAA,CAA7B,CAAtD,CAAA,IAA4G,CAAC,CAAA,CAAE,CAAC,CAAC,MAAJ,CAAW,CAAC,GAAZ,CAAA,CAAiB,CAAC,MAAlB,GAA2B,CAA3B,IAAgC,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,SAArB,CAA+B,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,GAAd,CAAA,CAA/B,CAAjC,CAA/G;UACE,IAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,uBAApB,CAA4C,CAAC,MAA7C,IAAuD,CAA1D;YACE,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,uBAApB,CAA4C,CAAC,MAA7C,CAAA,EADF;;UAEA,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,cAApB,CAAmC,CAAC,MAApC,CAAA;iBACA,KAAK,CAAC,OAAN,CAAA,EAJF;SAAA,MAAA;UAME,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,WAAf,CAA2B,UAA3B;UACA,KAAK,CAAC,IAAN,CAAA;UACA,IAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,cAApB,CAAmC,CAAC,MAApC,GAA6C,CAAhD;YACE,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,aAApB,CAAkC,CAAC,KAAnC,CAAyC,KAAK,CAAC,CAAC,CAAC,YAAjD,EADF;;iBAEA,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,uBAApB,CAA4C,CAAC,MAA7C,CAAA,EAVF;;MADkB,CAApB;IAFe,CArCjB;IAmDA,OAAA,EAAS,SAAA;AACP,UAAA;MAAA,KAAA,GAAQ;MACR,GAAA,GAAM,SAAA;QACJ,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,SAArB,CAA+B,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,GAAd,CAAA,CAA/B;eACA,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAf,CAAoB,aAApB,CAAkC,CAAC,KAAnC,CAAyC,KAAK,CAAC,CAAC,CAAC,WAAjD;MAFI;aAGN,KAAK,CAAC,CAAC,CAAC,KAAR,GAAgB,UAAA,CAAW,GAAA,CAAA,CAAX,EAAkB,IAAlB;IALT,CAnDT;IAyDA,IAAA,EAAM,SAAA;AACJ,UAAA;MAAA,KAAA,GAAQ;aACR,YAAA,CAAa,KAAK,CAAC,CAAC,CAAC,KAArB;IAFI,CAzDN;IA4DA,YAAA,EAAc,SAAA;AACZ,UAAA;MAAA,KAAA,GAAQ;MACR,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAjB,CAAsB,QAAtB,CAA+B,CAAC,MAAhC,CAAA;MACA,IAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,QAAf,CAAwB,UAAxB,CAAH;eACE,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAjB,CAAyB,gEAAzB,EADF;OAAA,MAAA;eAEK,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAjB,CAAsB,QAAtB,CAA+B,CAAC,MAAhC,CAAA,EAFL;;IAHY,CA5Dd;;;EAmEA,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,UAAvB,CAAA;AApEA","file":"github-dialog.js","sourceRoot":"/source/","sourcesContent":["$.ItwayIO.githubDialog =\r\no:\r\n  dialog: $(\"[data-remodal-id='github']\")\r\n  button: $(\"[data-remodal-id='github'] .remodal-confirm\")\r\n  input: $(\"[name='github-link']\")\r\n  addonBtn: $(\"a.github-link\")\r\n  timer: undefined\r\n  warningTempl: \"<div class=\\\"text-danger\\\">The url doesnt match github repo link.</div>\"\r\n  formInput: (val) ->\r\n    \"<input name='github_link' hidden class='hidden' data-github-id='github-input' value='#{val}'/>\"\r\n  dialogTempl:\r\n    \"<div class=\\\"github-input-success input-success \\\">\r\n    <i class=\\\"icon-plus_one\\\"></i>\r\n    </div>\"\r\n\r\ninitialize: ->\r\n  _this = this\r\n  _this.resolveWithTime()\r\n  ### if resolve link is youtube link it returns the link else returns false ###\r\n  github =  $.ItwayIO.cValidator.githubLNK(_this.o.input.val())\r\n  _this.o.button.on 'click', () ->\r\n    if !github && _this.o.input.val().length <= 6\r\n      _this.stop()\r\n      $(\"[data-github-id='github-input']\").attr('value', null)\r\n      _this.resolveAddon()\r\n\r\n    else\r\n      _this.o.dialog.find(\".text-danger\").remove()\r\n      _this.o.dialog.addClass \"approved\"\r\n      if $(\"[data-github-id='github-input']\").length < 1\r\n        _this.o.addonBtn.after _this.o.formInput(_this.o.input.val())\r\n      else $(\"[data-github-id='github-input']\").attr(\"value\",_this.o.input.val())\r\n      _this.resolveAddon()\r\n  if !github\r\n    _this.o.dialog.removeClass \"approved\"\r\n    _this.resolveAddon()\r\n\r\n\r\nresolveWithTime: ->\r\n  _this = this\r\n  _this.o.input.keyup (e) ->\r\n    if (e.keyCode == 13 and $(e.target).val().length > 5 and $.ItwayIO.cValidator.ytVidId(_this.o.input.val())) or ($(e.target).val().length > 5 && $.ItwayIO.cValidator.githubLNK(_this.o.input.val()))\r\n      if _this.o.dialog.find('.github-input-success').length >= 1\r\n        _this.o.dialog.find('.github-input-success').remove()\r\n      _this.o.dialog.find(\".text-danger\").remove()\r\n      _this.resolve()\r\n    else\r\n      _this.o.dialog.removeClass(\"approved\")\r\n      _this.stop()\r\n      if _this.o.dialog.find(\".text-danger\").length < 1\r\n        _this.o.dialog.find('.modal-form').after(_this.o.warningTempl)\r\n      _this.o.dialog.find('.github-input-success').remove()\r\nresolve: ->\r\n  _this = this\r\n  run = () ->\r\n    $.ItwayIO.cValidator.githubLNK(_this.o.input.val())\r\n    _this.o.dialog.find('.modal-form').after(_this.o.dialogTempl)\r\n  _this.o.timer = setTimeout(run(), 3000)\r\nstop: ->\r\n  _this = this\r\n  clearTimeout _this.o.timer\r\nresolveAddon: ->\r\n  _this = this\r\n  _this.o.addonBtn.find(\".addon\").remove()\r\n  if _this.o.dialog.hasClass \"approved\"\r\n    _this.o.addonBtn.prepend(\"<span class='addon'><b class='text-danger'>+1</b> added</span>\")\r\n  else _this.o.addonBtn.find(\".addon\").remove()\r\n\r\n$.ItwayIO.githubDialog.initialize()\r\n"]}