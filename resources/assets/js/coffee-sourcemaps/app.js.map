{"version":3,"sources":["app.coffee"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["###! ItwayIO app.js\r\n# ================\r\n# Main JS application file for ItwayIO This file\r\n# should be included in all pages. It controls some layout\r\n# options and implements exclusive ItwayIO plugins.\r\n#\r\n# @Author  nilsenj\r\n# @Email   ni_cole@i.ua\r\n# @version 0.1\r\n###\r\n\r\n### ----------------------------------\r\n# - Initialize the ItwayIO Object -\r\n# ----------------------------------\r\n# All ItwayIO functions are implemented below.\r\n###\r\n\r\n_init = (o) ->\r\n\r\n  $.ItwayIO.csrf =\r\n    activate: ->\r\n      $.ajaxSetup headers: 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n\r\n\r\n  $.ItwayIO.blog =\r\n    activate: ->\r\n      _this = this\r\n  ### Search functionality ###\r\n  timer = undefined\r\n  $.ItwayIO.search =\r\n    selectors: $.ItwayIO.options.search\r\n    activate: ->\r\n      _this = this\r\n      searchBTN = @selectors.searchBTN\r\n      searchResult = @selectors.searchResult\r\n      searchBTN.click (e) ->\r\n        e.preventDefault()\r\n        _this.search()\r\n        return\r\n      $('.tag-search').on 'click', (e) ->\r\n        e.preventDefault()\r\n        _this.tagSearch()\r\n        return\r\n      $('a.search-button').on 'click', (event) ->\r\n        event.preventDefault()\r\n        $('#search input[type=\"search\"]').focus()\r\n        $('#search').addClass('active')\r\n        $('body').css 'overflow': 'hidden'\r\n        return\r\n      $('#search, #search button.close').on 'click keyup', (event) ->\r\n        if event.target == this or event.target.className == 'close' or event.target.className == 'icon-close' or event.keyCode == 27\r\n          $(this).removeClass 'active'\r\n          searchResult.html ''\r\n          $('#search .search-input').val('')\r\n          $('body').css 'overflow': 'auto'\r\n          _this.stopSearch()\r\n        return\r\n      #Do not include! This prevents the form from submitting for DEMO purposes only!\r\n      $('#search form').submit (event) ->\r\n        event.preventDefault()\r\n        false\r\n      $('#search > form > input[type=\"search\"]').keyup (e) ->\r\n        if (e.keyCode == 13 and $('#search .search-input').val().length > 0) or $('#search .search-input').val().length > 0\r\n          _this.search()\r\n        else\r\n          _this.stopSearch()\r\n        return\r\n      return\r\n    search: ->\r\n      _this = this\r\n      searchResult = @selectors.searchResult\r\n      timer = setTimeout((->\r\n        $.ajax\r\n          url: 'http://www.itway.io/search'\r\n          data: 'keywords': $('#search .search-input').val()\r\n          method: 'post'\r\n          success: (markup) ->\r\n            searchResult.html markup\r\n            return\r\n          error: (err) ->\r\n            searchResult.html '<h3 class=\"text-danger\"> try once more... </h3>'\r\n            console.log err.type\r\n            _this.stopSearch()\r\n            return\r\n        return\r\n      ), 500)\r\n      return\r\n    tagSearch: ->\r\n      _this = this\r\n      searchResult = @selectors.searchResult\r\n      timer = setTimeout((->\r\n        $.ajax\r\n          url: 'http://www.itway.io/getAllExistingTags'\r\n          method: 'post'\r\n          success: (markup) ->\r\n            searchResult.html markup\r\n            return\r\n          error: (err) ->\r\n            searchResult.html '<h3 class=\"text-danger\"> try once more... </h3>'\r\n            console.log err.type\r\n            _this.stopSearch()\r\n            return\r\n        return\r\n      ), 500)\r\n      return\r\n    stopSearch: ->\r\n      clearTimeout timer\r\n      return\r\n\r\n  # generate images live rendering\r\n  $.ItwayIO.imageLoad =\r\n    activate: ->\r\n      _this = this\r\n      _this.initiateInstanceImage()\r\n      _this.initiateProfileImage()\r\n      return\r\n    renderInstanceImage: (file, fileinput, settings) ->\r\n      # generate a new FileReader object\r\n      _this = this\r\n      reader = new FileReader\r\n      image = new Image\r\n\r\n      reader.onload = (_file) ->\r\n        image.src = _file.target.result\r\n        # url.createObjectURL(file);\r\n\r\n        image.onload = ->\r\n          w = @width\r\n          h = @height\r\n          t = file.type\r\n          n = file.name\r\n          s = ~ ~(file.size / 1024) / 1024\r\n          scaleWidth = settings.thumbnail_size\r\n          $('.p').append '<div class=\\'s-12 m-12 l-12 xs-12\\'><div class=\\'thumbnail\\' style=\\'background: #ffffff\\'><img class=\"img-responsive\" src=\\'' + image.src + '\\' /><div class=\\'caption\\' style=\\'position: absolute;right: 10px;top:10px;\\'> <h4  style=\\'background: black;padding: 4px; color: white\\'>' + s.toFixed(2) + ' Mb </h4></div></div> </div> '\r\n          _this.renderLabelFileName n, 'success'\r\n          return\r\n\r\n        image.onerror = ->\r\n          alert 'Invalid file type: ' + file.type\r\n          _this.renderLabelFileName file.name, \"error\"\r\n          fileinput.val null\r\n          return\r\n\r\n        return\r\n\r\n      reader.readAsDataURL file\r\n      return\r\n    renderProfileImage: (file, fileinput, settings) ->\r\n# generate a new FileReader object\r\n      _this = this\r\n      reader = new FileReader\r\n      image = new Image\r\n\r\n      reader.onload = (_file) ->\r\n        image.src = _file.target.result\r\n        # url.createObjectURL(file);\r\n\r\n        image.onload = ->\r\n          w = @width\r\n          h = @height\r\n          t = file.type\r\n          n = file.name\r\n          s = ~ ~(file.size / 1024) / 1024\r\n          scaleWidth = settings.thumbnail_size\r\n          $('.profile-img').attr(\"src\", image.src).css(position: 'relative')\r\n          _this.renderLabelFileProfile(n, \"success\")\r\n          _this.downButton(\"success\")\r\n          return\r\n\r\n        image.onerror = ->\r\n          alert 'Invalid file type: ' + file.type\r\n          _this.renderLabelFileProfile file.name, file.type\r\n          _this.downButton(\"error\")\r\n          fileinput.val null\r\n          return\r\n\r\n        return\r\n\r\n      reader.readAsDataURL file\r\n      return\r\n    downButton: (message) ->\r\n      _this = this\r\n      button =  $('#upload-button')\r\n      button.removeClass \"text-info\"\r\n      button.removeClass \"text-danger\"\r\n      if message == \"success\"\r\n        button.removeClass \"hidden\"\r\n        button.addClass \"block\"\r\n        button.val('to download press').addClass(\"text-info\")\r\n      else\r\n        button.addClass \"hidden\"\r\n        button.removeClass \"block\"\r\n        button.addClass(\"text-danger\")\r\n        button.val('wrong file format')\r\n        button.bind \"click\", ( event ) ->\r\n          event.preventDefault()\r\n          $(this).unbind( event )\r\n\r\n    renderLabelFileName: (filename, message)->\r\n      _this = this\r\n      fileLabel = $('.filelabel')\r\n      if fileLabel.find(\"span.text-info\").length > 0 || fileLabel.find(\"span.text-danger\").length > 0\r\n        fileLabel.find(\"span.text-info\").remove()\r\n        fileLabel.find(\"span.text-danger\").remove()\r\n\r\n      if message == \"success\"\r\n        $('.filelabel').append $('<span>').addClass('text-info').css({\r\n          'font-size': '100%'\r\n          'display': 'inline-block'\r\n          'font-weight': 'normal'\r\n          'margin-left': '1em'\r\n          'font-style': 'normal'})\r\n      else\r\n        $('.filelabel').append $('<span>').addClass('text-danger').text(\" format is not valid\").css({\r\n          'font-size': '100%'\r\n          'display': 'inline-block'\r\n          'font-weight': 'normal'\r\n          'margin-left': '1em'\r\n          'font-style': 'normal'})\r\n\r\n    renderLabelFileProfile: (filename, message)->\r\n      _this = this\r\n      fileLabel = $('.label')\r\n      ImgBlock = $('.profile-img')\r\n\r\n      if ImgBlock.next(\"span.text-info\").length > 0 || ImgBlock.next(\"span.text-danger\").length > 0\r\n        console.log(ImgBlock.next())\r\n        ImgBlock.next(\"span.text-info\").remove()\r\n        ImgBlock.next(\"span.text-danger\").remove()\r\n\r\n      if message == \"success\"\r\n\r\n        ImgBlock.after $('<span>').addClass('text-info').css({\r\n          'font-size': '100%'\r\n          'display': 'inline-block'\r\n          'font-weight': 'normal'\r\n          'margin-left': '1em'\r\n          'font-style': 'normal'})\r\n      else\r\n        ImgBlock.after $('<span>').addClass('text-danger').html(\"<br/><b>format is not valid </b>\").css({\r\n          'font-size': '100%'\r\n          'display': 'inline-block'\r\n          'font-weight': 'normal'\r\n          'margin-left': '1em'\r\n          'font-style': 'normal'})\r\n\r\n\r\n    initiateInstanceImage: ->\r\n      _this = this\r\n      fileinput = $('#fileupload').attr('accept', 'image/jpeg,image/png,image/gif')\r\n      settings =\r\n        thumbnail_size: 460\r\n        thumbnail_bg_color: '#ddd'\r\n        thumbnail_border: '1px solid #fff'\r\n        thumbnail_shadow: '0 0 0px rgba(0, 0, 0, 0.5)'\r\n        label_text: ''\r\n        warning_message: 'Not an image file.'\r\n        warning_text_color: '#f00'\r\n        input_class: 'custom-file-input button button-primary button-block'\r\n      # when the file is read it triggers the onload event above.\r\n      # handle input changes\r\n      fileinput.change (e) ->\r\n        $('.p').html ''\r\n        if @disabled\r\n          return alert('File upload not supported!')\r\n        F = @files\r\n        if F and F[0]\r\n          i = 0\r\n          while i < F.length\r\n            if F[i].type.match('image.*')\r\n              _this.renderInstanceImage F[i], fileinput, settings\r\n            else _this.renderLabelFileName F[i].name, \"error\"\r\n            i++\r\n        return\r\n      return\r\n\r\n    initiateProfileImage: ->\r\n      _this = this\r\n      fileElement = $('#file').attr('accept', 'image/jpeg,image/png,image/gif')\r\n      settings =\r\n        thumbnail_size: 100\r\n        thumbnail_bg_color: '#ddd'\r\n        thumbnail_border: '3px solid white'\r\n        thumbnail_border_radius: '3px'\r\n        label_text: ''\r\n        warning_message: 'Not an image file.'\r\n        warning_text_color: '#f00'\r\n        input_class: 'custom-file-input button button-primary button-block'\r\n      # when the file is read it triggers the onload event above.\r\n      # handle input changes\r\n      fileElement.change (e) ->\r\n        $('.profile-img-block').html ''\r\n        if @disabled\r\n          return alert('File upload not supported!')\r\n        F = @files\r\n        if F and F[0]\r\n          i = 0\r\n          while i < F.length\r\n            if F[i].type.match('image.*')\r\n              _this.renderProfileImage F[i], fileElement, settings\r\n              _this.renderLabelFileProfile F[i].name, \"success\"\r\n\r\n            else\r\n              _this.renderLabelFileProfile F[i].name, 'error'\r\n              _this.downButton(\"error\")\r\n              fileElement.val(null)\r\n\r\n            i++\r\n        return\r\n      return\r\n  $.ItwayIO.messenger =\r\n    activate: ->\r\n      _this = this\r\n      #_this.chatConnected();\r\n      _this.scrollToBottom()\r\n      _this.noRoom()\r\n      _this.createNewRoom()\r\n      o.socket.on 'chat-connected:itway\\\\Events\\\\UserEnteredChatEvent', (message) ->\r\n      jqxhr = $.ajax(\r\n        url: '/chat/' + user_id + '/rooms'\r\n        type: 'GET'\r\n        dataType: 'json')\r\n      jqxhr.done (data) ->\r\n        if data.success and data.result.length > 0\r\n          console.log data.result\r\n          $.each data.result, (index, conversation) ->\r\n            o.socket.emit 'join', room: conversation.id\r\n            return\r\n        return\r\n      o.socket.on 'welcome', (data) ->\r\n        console.log data.message\r\n        o.socket.emit 'join', room: current_thread\r\n        return\r\n      o.socket.on 'joined', (data) ->\r\n        console.log data.message\r\n        return\r\n      o.socket.on 'userCount', (data) ->\r\n        chatRightPanel = $('#chatRightPanel')\r\n        if $('#chatRightPanel .numUsers').length >= 1\r\n          chatRightPanel.find('small.numUsers').remove()\r\n          chatRightPanel.append '<small class=\"numUsers\">' + 'online users count ' + data.userCount + '</small>'\r\n        else\r\n          chatRightPanel.append '<small class=\"numUsers\">' + 'online users count ' + data.userCount + '</small>'\r\n        return\r\n      o.socket.on 'userJoined', (data) ->\r\n        userList = $('#users')\r\n        commentUserList = $('.message-wrap')\r\n        userList.find('.media-body .online').remove()\r\n        userList.removeClass 'active'\r\n        commentUserList.find('.comment .online').remove()\r\n        $.each data.users, (index, user) ->\r\n          currentUser = userList.find('a[data-userid=\\'' + user.customId + '\\']')\r\n          currentCommentUser = commentUserList.find('.comment[data-comment-user=\\'' + user.customId + '\\']')\r\n          currentUser.addClass 'active'\r\n          currentUser.find('.media-body').append '<span class=\"online\"></span>'\r\n          currentCommentUser.append '<span class=\"online\">online</span>'\r\n          return\r\n        return\r\n      o.socket.on 'connect', (data) ->\r\n        o.socket.emit 'storeClientInfo', customId: user_id\r\n        console.log data\r\n        return\r\n      o.socket.on 'chat.messages:itway\\\\Events\\\\ChatMessageCreated', (message) ->\r\n        data = message.data\r\n        $messageList = $('.msg-wrap .comments')\r\n        $conversation = $('.conversation-wrap a[data-room=\\'' + data.room + '\\']')\r\n        message = data.message.body\r\n        from_user_id = data.message.user_id\r\n        conversation = data.room\r\n        _this.getMessages(from_user_id, conversation).done (data) ->\r\n          $conversation.find('.last-message-body').text message\r\n          if conversation == current_thread\r\n            $messageList.append data\r\n            _this.scrollToBottom()\r\n          if from_user_id != user_id and conversation != current_thread\r\n            _this.updateConversationCounter $conversation\r\n          return\r\n        return\r\n      o.socket.on 'chat.rooms:itway\\\\Events\\\\ChatRoomCreated', (message) ->\r\n\r\n        $conversationList = $('.rooms .conversation-wrap')\r\n        data = message.data\r\n        $messageList = $('.msg-wrap .comments')\r\n        $conversationTab = $('.button-panel-conversation a[data-tab=\\'rooms\\']')\r\n        message = data.message.body\r\n        from_user_id = data.message.user_id\r\n        conversation = data.room\r\n        _this.getConversations(user_id, conversation, current_thread).done (data) ->\r\n          if !data.notInRoom\r\n            $conversationList.prepend data\r\n            $conversation = $('.conversation-wrap a[data-room=\\'' + conversation + '\\']')\r\n            _this.notifyNewRoom $conversationTab\r\n            _this.updateConversationCounter $conversation\r\n          return\r\n        return\r\n      _this.events()\r\n      return\r\n    noRoom: ->\r\n      noRoom = $('#no-room')\r\n      createRoom = $('#create-room')\r\n      if noRoom.length >= 1\r\n        noRoom.addClass 'hidden'\r\n        createRoom.on 'click', (e) ->\r\n          e.preventDefault()\r\n          noRoom.removeClass('hidden').addClass 'active'\r\n          return\r\n      return\r\n    createNewRoom: ->\r\n      $('#chatDropdown').dropdown\r\n        onChange: (value, text, $selectedItem) ->\r\n          console.log value, text, $selectedItem\r\n          return\r\n        transition: 'drop'\r\n      $('#create-room').on 'click', ->\r\n        jqxhr = $.ajax(\r\n          url: '/chat/create'\r\n          type: 'GET'\r\n          dataType: 'html')\r\n        msgWrap = $('.message-wrap')\r\n        jqxhr.done (data) ->\r\n          msgWrap.find('.msg-wrap').addClass 'hidden'\r\n          msgWrap.find('.send-wrap').addClass 'hidden'\r\n          msgWrap.prepend data\r\n          return\r\n        return\r\n      return\r\n    notifyNewRoom: ($conversation) ->\r\n      $badge = $conversation.find('.badge')\r\n      counter = Number($badge.text())\r\n      if $badge.length\r\n        $badge.text counter + 1\r\n      else\r\n        $conversation.append '<span class=\"badge\">1</span>'\r\n      return\r\n    notifyUsers: (user) ->\r\n      usersBlock = $('#users')\r\n      usersBlock.prepend '<div class=\"user\" id=' + user.id + '>' + user.name + '</div>'\r\n      return\r\n    getConversations: (user_id, conversation, current_thread) ->\r\n      jqxhr = $.ajax(\r\n        url: '/chat/conversations'\r\n        type: 'GET'\r\n        data:\r\n          user_id: user_id\r\n          conversation: conversation\r\n          current_thread: current_thread)\r\n      jqxhr\r\n    getMessages: (from_user_id, conversation) ->\r\n      jqxhr = $.ajax(\r\n        url: '/room/getMessage'\r\n        type: 'GET'\r\n        data:\r\n          user_id: from_user_id\r\n          conversation: conversation\r\n        dataType: 'html')\r\n      jqxhr\r\n    sendMessage: (body, conversation, user_id) ->\r\n      jqxhr = $.ajax(\r\n        url: '/room/create-message'\r\n        type: 'POST'\r\n        data:\r\n          body: body\r\n          conversation: conversation\r\n          user_id: user_id\r\n        dataType: 'json')\r\n      jqxhr\r\n    updateConversationCounter: ($conversation) ->\r\n      $badge = $conversation.find('.chat-user-name small .badge')\r\n      counter = Number($badge.text())\r\n      if $badge.length\r\n        $badge.text counter + 1\r\n      else\r\n        $conversation.find('.chat-user-name small').append '<span class=\"badge\">1</span>'\r\n      return\r\n    scrollToBottom: ->\r\n      $messageList = $('.msg-wrap')\r\n      if $messageList.length\r\n        $messageList.animate { scrollTop: $messageList[0].scrollHeight }, 500\r\n      return\r\n    events: ->\r\n      _this = this\r\n      $('#btnSendMessage').on 'click', (evt) ->\r\n        $messageBox = $('#messageBox')\r\n        evt.preventDefault()\r\n        _this.sendMessage($messageBox.val(), current_thread, user_id).done (data) ->\r\n          console.log data\r\n          $messageBox.val ''\r\n          $messageBox.focus()\r\n          return\r\n        return\r\n      $('#btnNewMessage').on 'click', ->\r\n        $('#newMessageModal').modal 'show'\r\n        return\r\n\r\n      ###*\r\n      # ctr+Enter to send message\r\n      ###\r\n\r\n      $('#messageBox').keypress (event) ->\r\n        if event.keyCode == 13 and event.ctrlKey\r\n          event.preventDefault()\r\n          $('#btnSendMessage').trigger 'click'\r\n        return\r\n      return\r\n\r\n\r\n  ### Layout\r\n  # ======\r\n  # Fixes the layout height in case min-height fails.\r\n  #\r\n  # @type Object\r\n  # @usage $.ItwayIO.layout.activate()\r\n  #        $.ItwayIO.layout.fix()\r\n  #        $.ItwayIO.layout.fixSidebar()\r\n  ###\r\n\r\n  $.ItwayIO.layout =\r\n    activate: ->\r\n      _this = this\r\n      _this.fix()\r\n      _this.fixSidebar()\r\n      $(window, '.container.wrapper').resize ->\r\n        _this.fix()\r\n        _this.fixSidebar()\r\n        return\r\n      return\r\n    fix: ->\r\n#Get window height and the wrapper height\r\n      neg = $('#navigation').outerHeight() + $('#footer').outerHeight()\r\n      window_height = $(window).height()\r\n      sidebar_height = $('.sidebar').height()\r\n      #Set the min-height of the content and sidebar based on the\r\n      #the height of the document.\r\n      if $('body').hasClass('fixed')\r\n        $('.content-wrapper, .right-side').css 'min-height', window_height - $('#footer').outerHeight()\r\n      else\r\n        postSetWidth = undefined\r\n        if window_height >= sidebar_height\r\n          $('.content-wrapper, .right-side').css 'min-height', window_height - neg\r\n          postSetWidth = window_height - neg\r\n        else\r\n          $('.content-wrapper, .right-side').css 'min-height', sidebar_height\r\n          postSetWidth = sidebar_height\r\n        #Fix for the control sidebar height\r\n        controlSidebar = $($.ItwayIO.options.controlSidebarOptions.selector)\r\n        if typeof controlSidebar != 'undefined'\r\n          if controlSidebar.height() > postSetWidth\r\n            $('.content-wrapper, .right-side').css 'min-height', controlSidebar.height()\r\n      return\r\n    fixSidebar: ->\r\n#Make sure the body tag has the .fixed class\r\n      if !$('body').hasClass('fixed')\r\n        if typeof $.fn.slimScroll != 'undefined'\r\n          $('.sidebar').slimScroll(destroy: true).height 'auto'\r\n        return\r\n      else if typeof $.fn.slimScroll == 'undefined' and console\r\n        console.error 'Error: the fixed layout requires the slimscroll plugin!'\r\n      #Enable slimscroll for fixed layout\r\n      if $.ItwayIO.options.sidebarSlimScroll\r\n        if typeof $.fn.slimScroll != 'undefined'\r\n#Destroy if it exists\r\n          $('.sidebar').slimScroll(destroy: true).height 'auto'\r\n          #Add slimscroll\r\n          $('.sidebar').slimscroll\r\n            height: $(window).height() - $('#navigation').height() + 'px'\r\n            color: 'rgba(0,0,0,0.2)'\r\n            size: '3px'\r\n      return\r\n\r\n  ### PushMenu()\r\n  # ==========\r\n  # Adds the push menu functionality to the sidebar.\r\n  #\r\n  # @type Function\r\n  # @usage: $.ItwayIO.pushMenu(\"[data-toggle='offcanvas']\")\r\n  ###\r\n\r\n  $.ItwayIO.pushMenu =\r\n    activate: (toggleBtn) ->\r\n#Get the screen sizes\r\n      screenSizes = $.ItwayIO.options.screenSizes\r\n      #Enable sidebar toggle\r\n      $(toggleBtn).on 'click', (e) ->\r\n        e.preventDefault()\r\n        console.log 'notifier clicked'\r\n        #Enable sidebar push menu\r\n        if $(window).width() > screenSizes.sm - 1\r\n          $('body').toggleClass 'sidebar-collapse'\r\n        else\r\n          if $('body').hasClass('sidebar-open')\r\n            $('body').removeClass 'sidebar-open'\r\n            $('body').removeClass 'sidebar-collapse'\r\n          else\r\n            $('body').addClass 'sidebar-open'\r\n        return\r\n      $('.content-wrapper').click ->\r\n#Enable hide menu when clicking on the content-wrapper on small screens\r\n        if $(window).width() <= screenSizes.sm - 1 and $('body').hasClass('sidebar-open')\r\n          $('body').removeClass 'sidebar-open'\r\n        return\r\n      #Enable expand on hover for sidebar mini\r\n      if $.ItwayIO.options.sidebarExpandOnHover or $('body').hasClass('fixed') and $('body').hasClass('sidebar-mini')\r\n        @expandOnHover()\r\n      return\r\n    expandOnHover: ->\r\n      _this = this\r\n      screenWidth = $.ItwayIO.options.screenSizes.sm - 1\r\n      #Expand sidebar on hover\r\n      $('.main-sidebar').hover (->\r\n        if $('body').hasClass('sidebar-mini') and $('body').hasClass('sidebar-collapse') and $(window).width() > screenWidth\r\n          _this.expand()\r\n        return\r\n      ), ->\r\n        if $('body').hasClass('sidebar-mini') and $('body').hasClass('sidebar-expanded-on-hover') and $(window).width() > screenWidth\r\n          _this.collapse()\r\n        return\r\n      return\r\n    expand: ->\r\n      $('body').removeClass('sidebar-collapse').addClass 'sidebar-expanded-on-hover'\r\n      return\r\n    collapse: ->\r\n      if $('body').hasClass('sidebar-expanded-on-hover')\r\n        $('body').removeClass('sidebar-expanded-on-hover').addClass 'sidebar-collapse'\r\n      return\r\n\r\n  ### Tree()\r\n  # ======\r\n  # Converts the sidebar into a multilevel\r\n  # tree view menu.\r\n  #\r\n  # @type Function\r\n  # @Usage: $.ItwayIO.tree('.sidebar')\r\n  ###\r\n\r\n  $.ItwayIO.tree = (menu) ->\r\n    _this = this\r\n    $('li a', $(menu)).on 'click', (e) ->\r\n#Get the clicked link and the next element\r\n      $this = $(this)\r\n      checkElement = $this.next()\r\n      #Check if the next element is a menu and is visible\r\n      if checkElement.is('.treeview-menu') and checkElement.is(':visible')\r\n#Close the menu\r\n        checkElement.slideUp 'normal', ->\r\n          checkElement.removeClass 'menu-open'\r\n          #Fix the layout in case the sidebar stretches over the height of the window\r\n          #_this.layout.fix();\r\n          return\r\n        checkElement.parent('li').removeClass 'active'\r\n      else if checkElement.is('.treeview-menu') and !checkElement.is(':visible')\r\n#Get the parent menu\r\n        parent = $this.parents('ul').first()\r\n        #Close all open menus within the parent\r\n        ul = parent.find('ul:visible').slideUp('normal')\r\n        #Remove the menu-open class from the parent\r\n        ul.removeClass 'menu-open'\r\n        #Get the parent li\r\n        parent_li = $this.parent('li')\r\n        #Open the target menu and add the menu-open class\r\n        checkElement.slideDown 'normal', ->\r\n#Add the class active to the parent li\r\n          checkElement.addClass 'menu-open'\r\n          parent.find('li.active').removeClass 'active'\r\n          parent_li.addClass 'active'\r\n          #Fix the layout in case the sidebar stretches over the height of the window\r\n          _this.layout.fix()\r\n          return\r\n      #if this isn't a link, prevent the page from being redirected\r\n      if checkElement.is('.treeview-menu')\r\n        e.preventDefault()\r\n      return\r\n    return\r\n\r\n  ### ControlSidebar\r\n  # ==============\r\n  # Adds functionality to the right sidebar\r\n  #\r\n  # @type Object\r\n  # @usage $.ItwayIO.controlSidebar.activate(options)\r\n  ###\r\n\r\n  $.ItwayIO.controlSidebar =\r\n    activate: ->\r\n      #Get the object\r\n      _this = this\r\n      #Update options\r\n      o = $.ItwayIO.options.controlSidebarOptions\r\n      #Get the sidebar\r\n      sidebar = $(o.selector)\r\n      #The toggle button\r\n      btn = $(o.toggleBtnSelector)\r\n      #Listen to the click event\r\n      btn.on 'click', (e) ->\r\n        e.preventDefault()\r\n        #If the sidebar is not open\r\n        if !sidebar.hasClass('control-sidebar-open') and !$('body').hasClass('control-sidebar-open')\r\n#Open the sidebar\r\n          _this.open sidebar, o.slide\r\n          $(this).addClass 'active'\r\n        else\r\n          _this.close sidebar, o.slide\r\n          $(this).removeClass 'active'\r\n        return\r\n      #If the body has a boxed layout, fix the sidebar bg position\r\n      bg = $('.control-sidebar-bg')\r\n      _this._fix bg\r\n      #If the body has a fixed layout, make the control sidebar fixed\r\n      if $('body').hasClass('fixed')\r\n        _this._fixForFixed sidebar\r\n      else\r\n#If the content height is less than the sidebar's height, force max height\r\n        if $('.content-wrapper, .right-side').height() < sidebar.height()\r\n          _this._fixForContent sidebar\r\n      return\r\n    open: (sidebar, slide) ->\r\n      _this = this\r\n      #Slide over content\r\n      if slide\r\n        sidebar.addClass 'control-sidebar-open'\r\n      else\r\n#Push the content by adding the open class to the body instead\r\n#of the sidebar itself\r\n        $('body').addClass 'control-sidebar-open'\r\n      return\r\n    close: (sidebar, slide) ->\r\n      if slide\r\n        sidebar.removeClass 'control-sidebar-open'\r\n      else\r\n        $('body').removeClass 'control-sidebar-open'\r\n      return\r\n    _fix: (sidebar) ->\r\n      _this = this\r\n      neg = $('#navigation').outerHeight()\r\n      if $('body').hasClass('layout-boxed')\r\n        sidebar.css 'position', 'absolute'\r\n        sidebar.height($(window).height() / 2 - neg).css 'overflow-y': 'auto'\r\n        $(window).resize ->\r\n          _this._fix sidebar\r\n          return\r\n      else\r\n        sidebar.css\r\n          'position': 'fixed'\r\n          'height': 'auto'\r\n      return\r\n    _fixForFixed: (sidebar) ->\r\n      sidebar.css\r\n        'position': 'fixed'\r\n        'max-height': '100%'\r\n        'overflow': 'auto'\r\n        'padding-bottom': '50px'\r\n      return\r\n    _fixForContent: (sidebar) ->\r\n      $('.content-wrapper, .right-side').css 'min-height', sidebar.height()\r\n      return\r\n\r\n  ### BoxWidget\r\n  # =========\r\n  # BoxWidget is a plugin to handle collapsing and\r\n  # removing boxes from the screen.\r\n  #\r\n  # @type Object\r\n  # @usage $.ItwayIO.boxWidget.activate()\r\n  #        Set all your options in the main $.ItwayIO.options object\r\n  ###\r\n\r\n  $.ItwayIO.boxWidget =\r\n    selectors: $.ItwayIO.options.boxWidgetOptions.boxWidgetSelectors\r\n    icons: $.ItwayIO.options.boxWidgetOptions.boxWidgetIcons\r\n    activate: ->\r\n      _this = this\r\n      #Listen for collapse event triggers\r\n      $(_this.selectors.collapse).on 'click', (e) ->\r\n        e.preventDefault()\r\n        _this.collapse $(this)\r\n        return\r\n      #Listen for remove event triggers\r\n      $(_this.selectors.remove).on 'click', (e) ->\r\n        e.preventDefault()\r\n        _this.remove $(this)\r\n        return\r\n      return\r\n    collapse: (element) ->\r\n      _this = this\r\n      #Find the box parent\r\n      box = element.parents('.box').first()\r\n      #Find the body and the footer\r\n      box_content = box.find('> .box-body, > .box-footer')\r\n      if !box.hasClass('collapsed-box')\r\n#Convert minus into plus\r\n        element.children(':first').removeClass(_this.icons.collapse).addClass _this.icons.open\r\n        #Hide the content\r\n        box_content.slideUp 300, ->\r\n          box.addClass 'collapsed-box'\r\n          return\r\n      else\r\n#Convert plus into minus\r\n        element.children(':first').removeClass(_this.icons.open).addClass _this.icons.collapse\r\n        #Show the content\r\n        box_content.slideDown 300, ->\r\n          box.removeClass 'collapsed-box'\r\n          return\r\n      return\r\n    remove: (element) ->\r\n#Find the box parent\r\n      box = element.parents('.box').first()\r\n      box.slideUp()\r\n      return\r\n  return\r\n\r\n'use strict'\r\n#Make sure jQuery has been loaded before app.js\r\nif typeof jQuery == 'undefined'\r\n  throw new Error('ItwayIO requires jQuery')\r\n\r\n### ItwayIO\r\n#\r\n# @type Object\r\n# @description $.ItwayIO is the main object for the template's app.\r\n#              It's used for implementing functions and options related\r\n#              to the template. Keeping everything wrapped in an object\r\n#              prevents conflict with other plugins and is a better\r\n#              way to organize our code.\r\n###\r\n\r\n$.ItwayIO = {}\r\n\r\n### --------------------\r\n# - ItwayIO Options -\r\n# --------------------\r\n# Modify these options to suit your implementation\r\n###\r\n\r\n$.ItwayIO.options =\r\n  host: 'http://' + window.location.hostname\r\n  socket: io('http://www.itway.io:6378')\r\n  navbarMenuSlimscroll: true\r\n  navbarMenuSlimscrollWidth: '3px'\r\n  navbarMenuHeight: '200px'\r\n  sidebarControlWidth: '280px'\r\n  sidebarToggleSelector: '[data-toggle=\\'offcanvas\\']'\r\n  sidebarPushMenu: true\r\n  sidebarSlimScroll: false\r\n  sidebarExpandOnHover: true\r\n  enableBoxRefresh: true\r\n  enableBSToppltip: true\r\n  BSTooltipSelector: '[data-toggle=\\'tooltip\\']'\r\n  enableFastclick: true\r\n  enableControlSidebar: true\r\n  controlSidebarOptions:\r\n    toggleBtnSelector: '[data-toggle=\\'control-sidebar\\']'\r\n    selector: '.control-sidebar'\r\n    slide: true\r\n  enableBoxWidget: true\r\n  boxWidgetOptions:\r\n    boxWidgetIcons:\r\n      collapse: 'fa-minus'\r\n      open: 'fa-plus'\r\n      remove: 'fa-times'\r\n    boxWidgetSelectors:\r\n      remove: '[data-widget=\"remove\"]'\r\n      collapse: '[data-widget=\"collapse\"]'\r\n  directChat:\r\n    enable: true\r\n    contactToggleSelector: '[data-widget=\"chat-pane-toggle\"]'\r\n  search:\r\n    searchBTN : $('#search button')\r\n    searchResult : $('.search-result')\r\n  colors:\r\n    lightBlue: '#3c8dbc'\r\n    red: '#f56954'\r\n    green: '#00a65a'\r\n    aqua: '#00c0ef'\r\n    yellow: '#f39c12'\r\n    blue: '#0073b7'\r\n    navy: '#001F3F'\r\n    teal: '#39CCCC'\r\n    olive: '#3D9970'\r\n    lime: '#01FF70'\r\n    orange: '#FF851B'\r\n    fuchsia: '#F012BE'\r\n    purple: '#8E24AA'\r\n    maroon: '#D81B60'\r\n    black: '#222222'\r\n    gray: '#d2d6de'\r\n  screenSizes:\r\n    xs: 480\r\n    sm: 768\r\n    md: 992\r\n    lg: 1200\r\n\r\n### ------------------\r\n# - Implementation -\r\n# ------------------\r\n# The next block of code implements ItwayIO's\r\n# functions and plugins as specified by the\r\n# options above.\r\n###\r\n\r\n$ ->\r\n#Extend options if external options exist\r\n  if typeof ItwayIOOptions != 'undefined'\r\n    $.extend true, $.ItwayIO.options, ItwayIOOptions\r\n  #Easy access to options\r\n  o = $.ItwayIO.options\r\n  #Set up the object\r\n  _init o\r\n\r\n  # activate csrf token\r\n  $.ItwayIO.csrf.activate()\r\n\r\n  $.ItwayIO.search.activate()\r\n\r\n  # start of handling events and sockets\r\n  #Activate the layout maker\r\n  $.ItwayIO.layout.activate()\r\n  #Activate messenger functionality\r\n  $.ItwayIO.messenger.activate()\r\n\r\n  $.ItwayIO.imageLoad.activate()\r\n  #Enable sidebar tree view controls\r\n  $.ItwayIO.tree '.sidebar'\r\n  #Enable control sidebar\r\n  if o.enableControlSidebar\r\n    $.ItwayIO.controlSidebar.activate()\r\n  #Add slimscroll to navbar dropdown\r\n  #if (typeof $.fn.slimscroll != 'undefined') {\r\n  #    $(\".control-sidebar-bg\").slimscroll({\r\n  #        height: $(window).height() - o.navbarMenuHeight,\r\n  #        alwaysVisible: false,\r\n  #    }).css(\"width\", \"230px\");\r\n  #}\r\n  #Add slimscroll to navbar dropdown\r\n  if o.navbarMenuSlimscroll and typeof $.fn.slimscroll != 'undefined'\r\n    $('.navbar .menu').slimscroll(\r\n      height: o.navbarMenuHeight\r\n      alwaysVisible: false\r\n      size: o.navbarMenuSlimscrollWidth).css 'width', '100%'\r\n  #Activate sidebar push menu\r\n  if o.sidebarPushMenu\r\n    $.ItwayIO.pushMenu.activate o.sidebarToggleSelector\r\n  #//Activate Bootstrap tooltip\r\n  #if (o.enableBSToppltip) {\r\n  #    $('body').tooltip({\r\n  #        selector: o.BSTooltipSelector\r\n  #    });\r\n  #}\r\n  #Activate box widget\r\n  if o.enableBoxWidget\r\n    $.ItwayIO.boxWidget.activate()\r\n  #Activate fast click\r\n  if o.enableFastclick and typeof FastClick != 'undefined'\r\n    FastClick.attach document.body\r\n  #Activate direct chat widget\r\n  if o.directChat.enable\r\n    $(o.directChat.contactToggleSelector).on 'click', ->\r\n      box = $(this).parents('.direct-chat').first()\r\n      box.toggleClass 'direct-chat-contacts-open'\r\n      return\r\n\r\n  ###\r\n  # INITIALIZE BUTTON TOGGLE\r\n  # ------------------------\r\n  ###\r\n\r\n  $('.button-group[data-toggle=\"btn-toggle\"]').each ->\r\n    group = $(this)\r\n    $(this).find('.button').on 'click', (e) ->\r\n      group.find('.button.active').removeClass 'active'\r\n      $(this).addClass 'active'\r\n      e.preventDefault()\r\n      return\r\n    return\r\n  return\r\n"]}