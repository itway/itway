{"version":3,"sources":["app.coffee"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["###! ItwayIO app.js\r\n# ================\r\n# Main JS application file for ItwayIO This file\r\n# should be included in all pages. It controls some layout\r\n# options and implements exclusive ItwayIO plugins.\r\n#\r\n# @Author  nilsenj\r\n# @Email   ni_cole@i.ua\r\n# @version 0.1\r\n###\r\n\r\n### ----------------------------------\r\n# - Initialize the ItwayIO Object -\r\n# ----------------------------------\r\n# All ItwayIO functions are implemented below.\r\n###\r\n\r\n_init = (o) ->\r\n\r\n  ### Notifier\r\n  # ======\r\n  # Notifies posts and notifies admin about the users and posts.\r\n  #\r\n  # @type Object\r\n  # @usage $.ItwayIO.notifier.activate()\r\n  #        $.ItwayIO.notifier.newPostCreated()\r\n  #        $.ItwayIO.notifier.addNotifiedState()\r\n  ###\r\n\r\n  $.ItwayIO.notifier =\r\n    activate: ->\r\n      _this = this\r\n      _this.newPostCreated()\r\n      _this.removeNotifiedState()\r\n      #o.notifyBlock.children().length\r\n      return\r\n    newPostCreated: ->\r\n      _this = this\r\n      o.socket.on 'post-created:itway\\\\Events\\\\PostWasCreatedEvent', (message) ->\r\n        o.notifyBlock.prepend '<div class=\"control-sidebar-heading\">New Post added</div> <li><span class=\"has-notify\"></span>' + '<a class=\"message-link\" href=\"' + o.host + '/' + message.post.locale + '/blog/post/' + message.post.id + '\"> ' + '<p class=\"message-title\">' + message.post.title + '</p> ' + '<small class=\"notifier-info text-center\" >' + message.post.preamble + '<div class=\"clearfix\"></div>' + '<img class=\"avatar\" src=\"' + o.host + '/images/users/' + message.user.photo + '\" alt=\"\"></img> ' + '<span class=\"author\">' + message.user.name + '</span> </small>' + '</a></li>'\r\n        o.notifyBlock.data 'data-new', 'present'\r\n        _this.addNotifiedState()\r\n        return\r\n      return\r\n    addNotifiedState: ->\r\n      o.notifyBtn.prepend '<span class=\"has-notify\"></span>'\r\n      return\r\n    removeNotifiedState: ->\r\n      o.notifyBtn.bind 'click', ->\r\n        if $(this).find('span.has-notify').length > 0\r\n          $(this).find('span.has-notify').remove()\r\n        return\r\n      return\r\n  timer = undefined\r\n\r\n  ### Search functionality ###\r\n\r\n  $.ItwayIO.search =\r\n    activate: ->\r\n      _this = this\r\n      $('#search button').click (e) ->\r\n        e.preventDefault()\r\n        _this.search()\r\n        return\r\n      $('.tag-search').on 'click', (e) ->\r\n        e.preventDefault()\r\n        _this.tagSearch()\r\n        return\r\n      $('a[href=\"#search\"]').on 'click', (event) ->\r\n        event.preventDefault()\r\n        $('#search').addClass 'open'\r\n        $('#search > form > input[type=\"search\"]').focus()\r\n        $('body').css 'overflow': 'hidden'\r\n        return\r\n      $('#search, #search button.close').on 'click keyup', (event) ->\r\n        if event.target == this or event.target.className == 'close' or event.keyCode == 27\r\n          $(this).removeClass 'open'\r\n          $('body').css 'overflow': 'auto'\r\n        return\r\n      #Do not include! This prevents the form from submitting for DEMO purposes only!\r\n      $('#search form').submit (event) ->\r\n        event.preventDefault()\r\n        false\r\n      $('#search > form > input[type=\"search\"]').keyup (e) ->\r\n        if e.keyCode == 13 and $('#search .search-input').val().length > 0 or $('#search .search-input').val().length > 0\r\n          _this.search()\r\n        else\r\n          _this.stopSearch()\r\n        return\r\n      return\r\n    search: ->\r\n      _this = this\r\n      timer = setTimeout((->\r\n        $.ajax\r\n          url: 'http://www.itway.io/search'\r\n          data: 'keywords': $('#search .search-input').val()\r\n          method: 'post'\r\n          success: (markup) ->\r\n            $('.search-result').html markup\r\n            return\r\n          error: (err) ->\r\n            $('.search-result').html '<h3 class=\"text-danger\"> Error occured </h3>'\r\n            console.log err.type\r\n            _this.stopSearch()\r\n            return\r\n        return\r\n      ), 500)\r\n      return\r\n    tagSearch: ->\r\n      _this = this\r\n      timer = setTimeout((->\r\n        $.ajax\r\n          url: 'http://www.itway.io/getAllExistingTags'\r\n          method: 'post'\r\n          success: (markup) ->\r\n            $('.search-result').html markup\r\n            return\r\n          error: (err) ->\r\n            $('.search-result').html '<h3 class=\"text-danger\"> Error occured </h3>'\r\n            console.log err.type\r\n            _this.stopSearch()\r\n            return\r\n        return\r\n      ), 500)\r\n      return\r\n    stopSearch: ->\r\n      clearTimeout timer\r\n      return\r\n  $.ItwayIO.likeBTN = activate: (buttonID, base_url, class_name, object_id, redirectIFerror) ->\r\n    if buttonID.length != 0\r\n      buttonID.submit (e) ->\r\n        e.preventDefault()\r\n        button = $(this).find('button')\r\n        buttonI = $(this).find('button i')\r\n        $.ajax {\r\n          type: 'GET'\r\n          url: base_url\r\n          data:\r\n            'class_name': class_name\r\n            'object_id': object_id\r\n          success: (data) ->\r\n            if data == 'error'\r\n              window.location.href = redirectIFerror\r\n            if data[0] == 'liked'\r\n              buttonI.addClass 'text-danger'\r\n              buttonI.removeClass 'icon-favorite_outline'\r\n              buttonI.addClass 'icon-favorite'\r\n              button.tooltipster 'content', data[1]\r\n              buttonID.parent().append $('<span/>',\r\n                'text': data[2]\r\n                'class': 'like-message')\r\n              $('span .like-message').animate {\r\n                opacity: 0.25\r\n                left: '+=50'\r\n                height: 'toggle'\r\n              }, 200\r\n            else\r\n              buttonI.removeClass 'text-danger'\r\n              buttonI.addClass 'icon-favorite_outline'\r\n              buttonI.removeClass 'icon-favorite'\r\n              button.tooltipster 'content', data[1]\r\n              buttonID.parent().find('.like-message').remove()\r\n            return\r\n          error: (data) ->\r\n            console.log 'error' + '   ' + data\r\n            return\r\n\r\n        }, 'html'\r\n        return\r\n    return\r\n  # generate imges live rendering\r\n  $.ItwayIO.imageLoad =\r\n    activate: ->\r\n      _this = this\r\n      _this.initiateInstanceImage()\r\n      _this.initiateProfileImage()\r\n      return\r\n    renderInstanceImage: (file, fileinput, settings) ->\r\n      console.log 'something is hapenning!'\r\n      # generate a new FileReader object\r\n      reader = new FileReader\r\n      image = new Image\r\n\r\n      reader.onload = (_file) ->\r\n        image.src = _file.target.result\r\n        # url.createObjectURL(file);\r\n\r\n        image.onload = ->\r\n          w = @width\r\n          h = @height\r\n          t = file.type\r\n          n = file.name\r\n          s = ~ ~(file.size / 1024) / 1024\r\n          scaleWidth = settings.thumbnail_size\r\n          $('.p').append '<div class=\\'s-12 m-10 l-10 l-offset-1 m-offset-1\\'><div class=\\'thumbnail\\' style=\\'background: #ffffff\\'><img src=\\'' + image.src + '\\' /><div class=\\'caption\\' style=\\'position: absolute;right: 10px;top:10px;\\'> <h4  style=\\'background: black;padding: 4px; color: white\\'>' + s.toFixed(2) + ' Mb </h4></div></div> </div> '\r\n          return\r\n\r\n        image.onerror = ->\r\n          alert 'Invalid file type: ' + file.type\r\n          fileinput.val null\r\n          return\r\n\r\n        return\r\n\r\n      reader.readAsDataURL file\r\n      return\r\n    renderProfileImage: (file, fileinput, settings) ->\r\n# generate a new FileReader object\r\n      reader = new FileReader\r\n      image = new Image\r\n\r\n      reader.onload = (_file) ->\r\n        image.src = _file.target.result\r\n        # url.createObjectURL(file);\r\n\r\n        image.onload = ->\r\n          w = @width\r\n          h = @height\r\n          t = file.type\r\n          n = file.name\r\n          s = ~ ~(file.size / 1024) / 1024\r\n          scaleWidth = settings.thumbnail_size\r\n          $('.profile-img-block').append('<img class=\"img profile-img\" align=\"center\" src=\\'' + image.src + '\\' /> ').css position: 'relative'\r\n          $('#changeImage .button.button-primary.button-block').val('to download press').addClass 'text-success'\r\n          return\r\n\r\n        image.onerror = ->\r\n          alert 'Invalid file type: ' + file.type\r\n          fileinput.val null\r\n          return\r\n\r\n        return\r\n\r\n      reader.readAsDataURL file\r\n      return\r\n    initiateInstanceImage: ->\r\n      _this = this\r\n      fileinput = $('#fileupload').attr('accept', 'image/jpeg,image/png,image/gif')\r\n      settings =\r\n        thumbnail_size: 460\r\n        thumbnail_bg_color: '#ddd'\r\n        thumbnail_border: '1px solid #fff'\r\n        thumbnail_shadow: '0 0 0px rgba(0, 0, 0, 0.5)'\r\n        label_text: ''\r\n        warning_message: 'Not an image file.'\r\n        warning_text_color: '#f00'\r\n        input_class: 'custom-file-input button button-primary button-block'\r\n      # when the file is read it triggers the onload event above.\r\n      # handle input changes\r\n      fileinput.change (e) ->\r\n        $('.p').html ''\r\n        if @disabled\r\n          return alert('File upload not supported!')\r\n        F = @files\r\n        if F and F[0]\r\n          i = 0\r\n          while i < F.length\r\n            if F[i].type.match('image.*')\r\n              console.log 'file matches'\r\n              if $('.image-error').length >= 1\r\n                $('.image-error').remove()\r\n              _this.renderInstanceImage F[i], fileinput, settings\r\n            else\r\n              $('.filelabel').append $('<small>').addClass('image-error').text(settings.warning_message).css(\r\n                'font-size': '100%'\r\n                'color': settings.warning_text_color\r\n                'display': 'inline-block'\r\n                'font-weight': 'normal'\r\n                'margin-left': '1em'\r\n                'font-style': 'normal')\r\n            i++\r\n        return\r\n      return\r\n    initiateProfileImage: ->\r\n      _this = this\r\n      fileElement = $('#file').attr('accept', 'image/jpeg,image/png,image/gif')\r\n      settings =\r\n        thumbnail_size: 100\r\n        thumbnail_bg_color: '#ddd'\r\n        thumbnail_border: '3px solid white'\r\n        thumbnail_border_radius: '3px'\r\n        label_text: ''\r\n        warning_message: 'Not an image file.'\r\n        warning_text_color: '#f00'\r\n        input_class: 'custom-file-input button button-primary button-block'\r\n      # when the file is read it triggers the onload event above.\r\n      # handle input changes\r\n      fileElement.change (e) ->\r\n        $('.profile-img-block').html ''\r\n        if @disabled\r\n          return alert('File upload not supported!')\r\n        F = @files\r\n        if F and F[0]\r\n          i = 0\r\n          while i < F.length\r\n            if F[i].type.match('image.*')\r\n              if $('.image-error')\r\n                $('.image-error').remove()\r\n              _this.renderProfileImage F[i], fileElement, settings\r\n            else\r\n              $('.profile-img-block').append $('<small>').addClass('image-error').text(settings.warning_message).css(\r\n                'font-size': '100%'\r\n                'color': settings.warning_text_color\r\n                'display': 'inline-block'\r\n                'font-weight': 'normal'\r\n                'margin-left': '1em'\r\n                'font-style': 'normal')\r\n            i++\r\n        return\r\n      return\r\n  $.ItwayIO.messenger =\r\n    activate: ->\r\n      _this = this\r\n      #_this.chatConnected();\r\n      _this.scrollToBottom()\r\n      _this.noRoom()\r\n      _this.createNewRoom()\r\n      o.socket.on 'chat-connected:itway\\\\Events\\\\UserEnteredChatEvent', (message) ->\r\n      jqxhr = $.ajax(\r\n        url: '/chat/' + user_id + '/rooms'\r\n        type: 'GET'\r\n        dataType: 'json')\r\n      jqxhr.done (data) ->\r\n        if data.success and data.result.length > 0\r\n          console.log data.result\r\n          $.each data.result, (index, conversation) ->\r\n            o.socket.emit 'join', room: conversation.id\r\n            return\r\n        return\r\n      o.socket.on 'welcome', (data) ->\r\n        console.log data.message\r\n        o.socket.emit 'join', room: current_thread\r\n        return\r\n      o.socket.on 'joined', (data) ->\r\n        console.log data.message\r\n        return\r\n      o.socket.on 'userCount', (data) ->\r\n        chatRightPanel = $('#chatRightPanel')\r\n        if $('#chatRightPanel .numUsers').length >= 1\r\n          chatRightPanel.find('small.numUsers').remove()\r\n          chatRightPanel.append '<small class=\"numUsers\">' + 'online users count ' + data.userCount + '</small>'\r\n        else\r\n          chatRightPanel.append '<small class=\"numUsers\">' + 'online users count ' + data.userCount + '</small>'\r\n        return\r\n      o.socket.on 'userJoined', (data) ->\r\n        userList = $('#users')\r\n        commentUserList = $('.message-wrap')\r\n        userList.find('.media-body .online').remove()\r\n        userList.removeClass 'active'\r\n        commentUserList.find('.comment .online').remove()\r\n        $.each data.users, (index, user) ->\r\n          currentUser = userList.find('a[data-userid=\\'' + user.customId + '\\']')\r\n          currentCommentUser = commentUserList.find('.comment[data-comment-user=\\'' + user.customId + '\\']')\r\n          currentUser.addClass 'active'\r\n          currentUser.find('.media-body').append '<span class=\"online\"></span>'\r\n          currentCommentUser.append '<span class=\"online\">online</span>'\r\n          return\r\n        return\r\n      o.socket.on 'connect', (data) ->\r\n        o.socket.emit 'storeClientInfo', customId: user_id\r\n        console.log data\r\n        return\r\n      o.socket.on 'chat.messages:itway\\\\Events\\\\ChatMessageCreated', (message) ->\r\n        `var message`\r\n        data = message.data\r\n        $messageList = $('.msg-wrap .comments')\r\n        $conversation = $('.conversation-wrap a[data-room=\\'' + data.room + '\\']')\r\n        message = data.message.body\r\n        from_user_id = data.message.user_id\r\n        conversation = data.room\r\n        _this.getMessages(from_user_id, conversation).done (data) ->\r\n          $conversation.find('.last-message-body').text message\r\n          if conversation == current_thread\r\n            $messageList.append data\r\n            _this.scrollToBottom()\r\n          if from_user_id != user_id and conversation != current_thread\r\n            _this.updateConversationCounter $conversation\r\n          return\r\n        return\r\n      o.socket.on 'chat.rooms:itway\\\\Events\\\\ChatRoomCreated', (message) ->\r\n        `var message`\r\n        $conversationList = $('.rooms .conversation-wrap')\r\n        data = message.data\r\n        $messageList = $('.msg-wrap .comments')\r\n        $conversationTab = $('.button-panel-conversation a[data-tab=\\'rooms\\']')\r\n        message = data.message.body\r\n        from_user_id = data.message.user_id\r\n        conversation = data.room\r\n        _this.getConversations(user_id, conversation, current_thread).done (data) ->\r\n          if !data.notInRoom\r\n            $conversationList.prepend data\r\n            $conversation = $('.conversation-wrap a[data-room=\\'' + conversation + '\\']')\r\n            _this.notifyNewRoom $conversationTab\r\n            _this.updateConversationCounter $conversation\r\n          return\r\n        return\r\n      _this.events()\r\n      return\r\n    noRoom: ->\r\n      noRoom = $('#no-room')\r\n      createRoom = $('#create-room')\r\n      if noRoom.length >= 1\r\n        noRoom.addClass 'hidden'\r\n        createRoom.on 'click', (e) ->\r\n          e.preventDefault()\r\n          noRoom.removeClass('hidden').addClass 'active'\r\n          return\r\n      return\r\n    createNewRoom: ->\r\n      $('#chatDropdown').dropdown\r\n        onChange: (value, text, $selectedItem) ->\r\n          console.log value, text, $selectedItem\r\n          return\r\n        transition: 'drop'\r\n      $('#create-room').on 'click', ->\r\n        jqxhr = $.ajax(\r\n          url: '/chat/create'\r\n          type: 'GET'\r\n          dataType: 'html')\r\n        msgWrap = $('.message-wrap')\r\n        jqxhr.done (data) ->\r\n          msgWrap.find('.msg-wrap').addClass 'hidden'\r\n          msgWrap.find('.send-wrap').addClass 'hidden'\r\n          msgWrap.prepend data\r\n          return\r\n        return\r\n      return\r\n    notifyNewRoom: ($conversation) ->\r\n      $badge = $conversation.find('.badge')\r\n      counter = Number($badge.text())\r\n      if $badge.length\r\n        $badge.text counter + 1\r\n      else\r\n        $conversation.append '<span class=\"badge\">1</span>'\r\n      return\r\n    notifyUsers: (user) ->\r\n      usersBlock = $('#users')\r\n      usersBlock.prepend '<div class=\"user\" id=' + user.id + '>' + user.name + '</div>'\r\n      return\r\n    getConversations: (user_id, conversation, current_thread) ->\r\n      jqxhr = $.ajax(\r\n        url: '/chat/conversations'\r\n        type: 'GET'\r\n        data:\r\n          user_id: user_id\r\n          conversation: conversation\r\n          current_thread: current_thread)\r\n      jqxhr\r\n    getMessages: (from_user_id, conversation) ->\r\n      jqxhr = $.ajax(\r\n        url: '/room/getMessage'\r\n        type: 'GET'\r\n        data:\r\n          user_id: from_user_id\r\n          conversation: conversation\r\n        dataType: 'html')\r\n      jqxhr\r\n    sendMessage: (body, conversation, user_id) ->\r\n      jqxhr = $.ajax(\r\n        url: '/room/create-message'\r\n        type: 'POST'\r\n        data:\r\n          body: body\r\n          conversation: conversation\r\n          user_id: user_id\r\n        dataType: 'json')\r\n      jqxhr\r\n    updateConversationCounter: ($conversation) ->\r\n      $badge = $conversation.find('.chat-user-name small .badge')\r\n      counter = Number($badge.text())\r\n      if $badge.length\r\n        $badge.text counter + 1\r\n      else\r\n        $conversation.find('.chat-user-name small').append '<span class=\"badge\">1</span>'\r\n      return\r\n    scrollToBottom: ->\r\n      $messageList = $('.msg-wrap')\r\n      if $messageList.length\r\n        $messageList.animate { scrollTop: $messageList[0].scrollHeight }, 500\r\n      return\r\n    events: ->\r\n      _this = this\r\n      $('#btnSendMessage').on 'click', (evt) ->\r\n        $messageBox = $('#messageBox')\r\n        evt.preventDefault()\r\n        _this.sendMessage($messageBox.val(), current_thread, user_id).done (data) ->\r\n          console.log data\r\n          $messageBox.val ''\r\n          $messageBox.focus()\r\n          return\r\n        return\r\n      $('#btnNewMessage').on 'click', ->\r\n        $('#newMessageModal').modal 'show'\r\n        return\r\n\r\n      ###*\r\n      # ctr+Enter to send message\r\n      ###\r\n\r\n      $('#messageBox').keypress (event) ->\r\n        if event.keyCode == 13 and event.ctrlKey\r\n          event.preventDefault()\r\n          $('#btnSendMessage').trigger 'click'\r\n        return\r\n      return\r\n  $.ItwayIO.quiz =\r\n    activate: ->\r\n      _this = this\r\n      _this.events()\r\n      return\r\n    events: ->\r\n      _this = this\r\n      quizOptions = $('#quizOptions')\r\n      #quizOptions.find(\".options-block .add_new\").on(\"click\", _this.addOption(e));\r\n      _this.addOption()\r\n      _this.removeOption()\r\n      return\r\n    addOption: ->\r\n#define template\r\n      template = $('#quizOptions .options-block:first').clone()\r\n      #define counter\r\n      sectionsCount = 1\r\n      #add new section\r\n      $('body').on 'click', '.add_new', ->\r\n        sectionsCount++\r\n        lengthInput = $('#quizOptions .options-block').length\r\n        #loop through each input\r\n        section = template.clone().find(':input').each(->\r\n#set id to store the updated section number\r\n          console.log lengthInput\r\n          newId = @id + Number(lengthInput + 1)\r\n          #update for label\r\n          $(this).prev().attr('for', newId).text lengthInput + 1\r\n          #update id\r\n          @id = newId\r\n          return\r\n        ).end().appendTo('#quizOptions')\r\n        false\r\n      return\r\n    removeOption: ->\r\n      $('#quizOptions').on 'click', '.remove', ->\r\n#fade out section\r\n        $(this).fadeOut 300, ->\r\n#remove parent element (main section)\r\n          $(this).parent().remove()\r\n          lengthInput = $('#quizOptions .options-block').length\r\n          console.log lengthInput\r\n          i = 0\r\n          while i <= lengthInput\r\n            newId = 'option-id' + Number(i + 1)\r\n            $('#quizOptions .options-block input').eq(i).attr 'id', newId\r\n            $('#quizOptions .options-block i.icon-circle').eq(i).attr('for', newId).text i + 1\r\n            i++\r\n          false\r\n        return\r\n      return\r\n\r\n  ### Layout\r\n  # ======\r\n  # Fixes the layout height in case min-height fails.\r\n  #\r\n  # @type Object\r\n  # @usage $.ItwayIO.layout.activate()\r\n  #        $.ItwayIO.layout.fix()\r\n  #        $.ItwayIO.layout.fixSidebar()\r\n  ###\r\n\r\n  $.ItwayIO.layout =\r\n    activate: ->\r\n      _this = this\r\n      _this.fix()\r\n      _this.fixSidebar()\r\n      $(window, '.container.wrapper').resize ->\r\n        _this.fix()\r\n        _this.fixSidebar()\r\n        return\r\n      return\r\n    fix: ->\r\n#Get window height and the wrapper height\r\n      neg = $('#navigation').outerHeight() + $('#footer').outerHeight()\r\n      window_height = $(window).height()\r\n      sidebar_height = $('.sidebar').height()\r\n      #Set the min-height of the content and sidebar based on the\r\n      #the height of the document.\r\n      if $('body').hasClass('fixed')\r\n        $('.content-wrapper, .right-side').css 'min-height', window_height - $('#footer').outerHeight()\r\n      else\r\n        postSetWidth = undefined\r\n        if window_height >= sidebar_height\r\n          $('.content-wrapper, .right-side').css 'min-height', window_height - neg\r\n          postSetWidth = window_height - neg\r\n        else\r\n          $('.content-wrapper, .right-side').css 'min-height', sidebar_height\r\n          postSetWidth = sidebar_height\r\n        #Fix for the control sidebar height\r\n        controlSidebar = $($.ItwayIO.options.controlSidebarOptions.selector)\r\n        if typeof controlSidebar != 'undefined'\r\n          if controlSidebar.height() > postSetWidth\r\n            $('.content-wrapper, .right-side').css 'min-height', controlSidebar.height()\r\n      return\r\n    fixSidebar: ->\r\n#Make sure the body tag has the .fixed class\r\n      if !$('body').hasClass('fixed')\r\n        if typeof $.fn.slimScroll != 'undefined'\r\n          $('.sidebar').slimScroll(destroy: true).height 'auto'\r\n        return\r\n      else if typeof $.fn.slimScroll == 'undefined' and console\r\n        console.error 'Error: the fixed layout requires the slimscroll plugin!'\r\n      #Enable slimscroll for fixed layout\r\n      if $.ItwayIO.options.sidebarSlimScroll\r\n        if typeof $.fn.slimScroll != 'undefined'\r\n#Destroy if it exists\r\n          $('.sidebar').slimScroll(destroy: true).height 'auto'\r\n          #Add slimscroll\r\n          $('.sidebar').slimscroll\r\n            height: $(window).height() - $('#navigation').height() + 'px'\r\n            color: 'rgba(0,0,0,0.2)'\r\n            size: '3px'\r\n      return\r\n\r\n  ### PushMenu()\r\n  # ==========\r\n  # Adds the push menu functionality to the sidebar.\r\n  #\r\n  # @type Function\r\n  # @usage: $.ItwayIO.pushMenu(\"[data-toggle='offcanvas']\")\r\n  ###\r\n\r\n  $.ItwayIO.pushMenu =\r\n    activate: (toggleBtn) ->\r\n#Get the screen sizes\r\n      screenSizes = $.ItwayIO.options.screenSizes\r\n      #Enable sidebar toggle\r\n      $(toggleBtn).on 'click', (e) ->\r\n        e.preventDefault()\r\n        console.log 'notifier clicked'\r\n        #Enable sidebar push menu\r\n        if $(window).width() > screenSizes.sm - 1\r\n          $('body').toggleClass 'sidebar-collapse'\r\n        else\r\n          if $('body').hasClass('sidebar-open')\r\n            $('body').removeClass 'sidebar-open'\r\n            $('body').removeClass 'sidebar-collapse'\r\n          else\r\n            $('body').addClass 'sidebar-open'\r\n        return\r\n      $('.content-wrapper').click ->\r\n#Enable hide menu when clicking on the content-wrapper on small screens\r\n        if $(window).width() <= screenSizes.sm - 1 and $('body').hasClass('sidebar-open')\r\n          $('body').removeClass 'sidebar-open'\r\n        return\r\n      #Enable expand on hover for sidebar mini\r\n      if $.ItwayIO.options.sidebarExpandOnHover or $('body').hasClass('fixed') and $('body').hasClass('sidebar-mini')\r\n        @expandOnHover()\r\n      return\r\n    expandOnHover: ->\r\n      _this = this\r\n      screenWidth = $.ItwayIO.options.screenSizes.sm - 1\r\n      #Expand sidebar on hover\r\n      $('.main-sidebar').hover (->\r\n        if $('body').hasClass('sidebar-mini') and $('body').hasClass('sidebar-collapse') and $(window).width() > screenWidth\r\n          _this.expand()\r\n        return\r\n      ), ->\r\n        if $('body').hasClass('sidebar-mini') and $('body').hasClass('sidebar-expanded-on-hover') and $(window).width() > screenWidth\r\n          _this.collapse()\r\n        return\r\n      return\r\n    expand: ->\r\n      $('body').removeClass('sidebar-collapse').addClass 'sidebar-expanded-on-hover'\r\n      return\r\n    collapse: ->\r\n      if $('body').hasClass('sidebar-expanded-on-hover')\r\n        $('body').removeClass('sidebar-expanded-on-hover').addClass 'sidebar-collapse'\r\n      return\r\n\r\n  ### Tree()\r\n  # ======\r\n  # Converts the sidebar into a multilevel\r\n  # tree view menu.\r\n  #\r\n  # @type Function\r\n  # @Usage: $.ItwayIO.tree('.sidebar')\r\n  ###\r\n\r\n  $.ItwayIO.tree = (menu) ->\r\n    _this = this\r\n    $('li a', $(menu)).on 'click', (e) ->\r\n#Get the clicked link and the next element\r\n      $this = $(this)\r\n      checkElement = $this.next()\r\n      #Check if the next element is a menu and is visible\r\n      if checkElement.is('.treeview-menu') and checkElement.is(':visible')\r\n#Close the menu\r\n        checkElement.slideUp 'normal', ->\r\n          checkElement.removeClass 'menu-open'\r\n          #Fix the layout in case the sidebar stretches over the height of the window\r\n          #_this.layout.fix();\r\n          return\r\n        checkElement.parent('li').removeClass 'active'\r\n      else if checkElement.is('.treeview-menu') and !checkElement.is(':visible')\r\n#Get the parent menu\r\n        parent = $this.parents('ul').first()\r\n        #Close all open menus within the parent\r\n        ul = parent.find('ul:visible').slideUp('normal')\r\n        #Remove the menu-open class from the parent\r\n        ul.removeClass 'menu-open'\r\n        #Get the parent li\r\n        parent_li = $this.parent('li')\r\n        #Open the target menu and add the menu-open class\r\n        checkElement.slideDown 'normal', ->\r\n#Add the class active to the parent li\r\n          checkElement.addClass 'menu-open'\r\n          parent.find('li.active').removeClass 'active'\r\n          parent_li.addClass 'active'\r\n          #Fix the layout in case the sidebar stretches over the height of the window\r\n          _this.layout.fix()\r\n          return\r\n      #if this isn't a link, prevent the page from being redirected\r\n      if checkElement.is('.treeview-menu')\r\n        e.preventDefault()\r\n      return\r\n    return\r\n\r\n  ### ControlSidebar\r\n  # ==============\r\n  # Adds functionality to the right sidebar\r\n  #\r\n  # @type Object\r\n  # @usage $.ItwayIO.controlSidebar.activate(options)\r\n  ###\r\n\r\n  $.ItwayIO.controlSidebar =\r\n    activate: ->\r\n      `var o`\r\n      #Get the object\r\n      _this = this\r\n      #Update options\r\n      o = $.ItwayIO.options.controlSidebarOptions\r\n      #Get the sidebar\r\n      sidebar = $(o.selector)\r\n      #The toggle button\r\n      btn = $(o.toggleBtnSelector)\r\n      #Listen to the click event\r\n      btn.on 'click', (e) ->\r\n        e.preventDefault()\r\n        #If the sidebar is not open\r\n        if !sidebar.hasClass('control-sidebar-open') and !$('body').hasClass('control-sidebar-open')\r\n#Open the sidebar\r\n          _this.open sidebar, o.slide\r\n          $(this).addClass 'active'\r\n        else\r\n          _this.close sidebar, o.slide\r\n          $(this).removeClass 'active'\r\n        return\r\n      #If the body has a boxed layout, fix the sidebar bg position\r\n      bg = $('.control-sidebar-bg')\r\n      _this._fix bg\r\n      #If the body has a fixed layout, make the control sidebar fixed\r\n      if $('body').hasClass('fixed')\r\n        _this._fixForFixed sidebar\r\n      else\r\n#If the content height is less than the sidebar's height, force max height\r\n        if $('.content-wrapper, .right-side').height() < sidebar.height()\r\n          _this._fixForContent sidebar\r\n      return\r\n    open: (sidebar, slide) ->\r\n      _this = this\r\n      #Slide over content\r\n      if slide\r\n        sidebar.addClass 'control-sidebar-open'\r\n      else\r\n#Push the content by adding the open class to the body instead\r\n#of the sidebar itself\r\n        $('body').addClass 'control-sidebar-open'\r\n      return\r\n    close: (sidebar, slide) ->\r\n      if slide\r\n        sidebar.removeClass 'control-sidebar-open'\r\n      else\r\n        $('body').removeClass 'control-sidebar-open'\r\n      return\r\n    _fix: (sidebar) ->\r\n      _this = this\r\n      neg = $('#navigation').outerHeight()\r\n      if $('body').hasClass('layout-boxed')\r\n        sidebar.css 'position', 'absolute'\r\n        sidebar.height($(window).height() / 2 - neg).css 'overflow-y': 'auto'\r\n        $(window).resize ->\r\n          _this._fix sidebar\r\n          return\r\n      else\r\n        sidebar.css\r\n          'position': 'fixed'\r\n          'height': 'auto'\r\n      return\r\n    _fixForFixed: (sidebar) ->\r\n      sidebar.css\r\n        'position': 'fixed'\r\n        'max-height': '100%'\r\n        'overflow': 'auto'\r\n        'padding-bottom': '50px'\r\n      return\r\n    _fixForContent: (sidebar) ->\r\n      $('.content-wrapper, .right-side').css 'min-height', sidebar.height()\r\n      return\r\n\r\n  ### BoxWidget\r\n  # =========\r\n  # BoxWidget is a plugin to handle collapsing and\r\n  # removing boxes from the screen.\r\n  #\r\n  # @type Object\r\n  # @usage $.ItwayIO.boxWidget.activate()\r\n  #        Set all your options in the main $.ItwayIO.options object\r\n  ###\r\n\r\n  $.ItwayIO.boxWidget =\r\n    selectors: $.ItwayIO.options.boxWidgetOptions.boxWidgetSelectors\r\n    icons: $.ItwayIO.options.boxWidgetOptions.boxWidgetIcons\r\n    activate: ->\r\n      _this = this\r\n      #Listen for collapse event triggers\r\n      $(_this.selectors.collapse).on 'click', (e) ->\r\n        e.preventDefault()\r\n        _this.collapse $(this)\r\n        return\r\n      #Listen for remove event triggers\r\n      $(_this.selectors.remove).on 'click', (e) ->\r\n        e.preventDefault()\r\n        _this.remove $(this)\r\n        return\r\n      return\r\n    collapse: (element) ->\r\n      _this = this\r\n      #Find the box parent\r\n      box = element.parents('.box').first()\r\n      #Find the body and the footer\r\n      box_content = box.find('> .box-body, > .box-footer')\r\n      if !box.hasClass('collapsed-box')\r\n#Convert minus into plus\r\n        element.children(':first').removeClass(_this.icons.collapse).addClass _this.icons.open\r\n        #Hide the content\r\n        box_content.slideUp 300, ->\r\n          box.addClass 'collapsed-box'\r\n          return\r\n      else\r\n#Convert plus into minus\r\n        element.children(':first').removeClass(_this.icons.open).addClass _this.icons.collapse\r\n        #Show the content\r\n        box_content.slideDown 300, ->\r\n          box.removeClass 'collapsed-box'\r\n          return\r\n      return\r\n    remove: (element) ->\r\n#Find the box parent\r\n      box = element.parents('.box').first()\r\n      box.slideUp()\r\n      return\r\n  return\r\n\r\n'use strict'\r\n#Make sure jQuery has been loaded before app.js\r\nif typeof jQuery == 'undefined'\r\n  throw new Error('ItwayIO requires jQuery')\r\n\r\n### ItwayIO\r\n#\r\n# @type Object\r\n# @description $.ItwayIO is the main object for the template's app.\r\n#              It's used for implementing functions and options related\r\n#              to the template. Keeping everything wrapped in an object\r\n#              prevents conflict with other plugins and is a better\r\n#              way to organize our code.\r\n###\r\n\r\n$.ItwayIO = {}\r\n\r\n### --------------------\r\n# - ItwayIO Options -\r\n# --------------------\r\n# Modify these options to suit your implementation\r\n###\r\n\r\n$.ItwayIO.options =\r\n  host: 'http://' + window.location.hostname\r\n  socket: io('http://www.itway.io:6378')\r\n  notifyBlock: $('.notify')\r\n  notifyBtn: $('.button-notify')\r\n  navbarMenuSlimscroll: true\r\n  navbarMenuSlimscrollWidth: '3px'\r\n  navbarMenuHeight: '200px'\r\n  sidebarControlWidth: '280px'\r\n  sidebarToggleSelector: '[data-toggle=\\'offcanvas\\']'\r\n  sidebarPushMenu: true\r\n  sidebarSlimScroll: false\r\n  sidebarExpandOnHover: true\r\n  enableBoxRefresh: true\r\n  enableBSToppltip: true\r\n  BSTooltipSelector: '[data-toggle=\\'tooltip\\']'\r\n  enableFastclick: true\r\n  enableControlSidebar: true\r\n  controlSidebarOptions:\r\n    toggleBtnSelector: '[data-toggle=\\'control-sidebar\\']'\r\n    selector: '.control-sidebar'\r\n    slide: true\r\n  enableBoxWidget: true\r\n  boxWidgetOptions:\r\n    boxWidgetIcons:\r\n      collapse: 'fa-minus'\r\n      open: 'fa-plus'\r\n      remove: 'fa-times'\r\n    boxWidgetSelectors:\r\n      remove: '[data-widget=\"remove\"]'\r\n      collapse: '[data-widget=\"collapse\"]'\r\n  directChat:\r\n    enable: true\r\n    contactToggleSelector: '[data-widget=\"chat-pane-toggle\"]'\r\n  colors:\r\n    lightBlue: '#3c8dbc'\r\n    red: '#f56954'\r\n    green: '#00a65a'\r\n    aqua: '#00c0ef'\r\n    yellow: '#f39c12'\r\n    blue: '#0073b7'\r\n    navy: '#001F3F'\r\n    teal: '#39CCCC'\r\n    olive: '#3D9970'\r\n    lime: '#01FF70'\r\n    orange: '#FF851B'\r\n    fuchsia: '#F012BE'\r\n    purple: '#8E24AA'\r\n    maroon: '#D81B60'\r\n    black: '#222222'\r\n    gray: '#d2d6de'\r\n  screenSizes:\r\n    xs: 480\r\n    sm: 768\r\n    md: 992\r\n    lg: 1200\r\n\r\n### ------------------\r\n# - Implementation -\r\n# ------------------\r\n# The next block of code implements ItwayIO's\r\n# functions and plugins as specified by the\r\n# options above.\r\n###\r\n\r\n$ ->\r\n#Extend options if external options exist\r\n  if typeof ItwayIOOptions != 'undefined'\r\n    $.extend true, $.ItwayIO.options, ItwayIOOptions\r\n  #Easy access to options\r\n  o = $.ItwayIO.options\r\n  #Set up the object\r\n  _init o\r\n  $.ItwayIO.search.activate()\r\n  # start of handling events and sockets\r\n  $.ItwayIO.notifier.activate()\r\n  #Activate the layout maker\r\n  $.ItwayIO.layout.activate()\r\n  #Activate messenger functionality\r\n  $.ItwayIO.messenger.activate()\r\n  $.ItwayIO.quiz.activate()\r\n  if (typeof buttonID and typeof base_url and typeof class_name and typeof object_id and typeof redirectIFerror) != 'undefined'\r\n    $.ItwayIO.likeBTN.activate buttonID, base_url, class_name, object_id, redirectIFerror\r\n  $.ItwayIO.imageLoad.activate()\r\n  #Enable sidebar tree view controls\r\n  $.ItwayIO.tree '.sidebar'\r\n  #Enable control sidebar\r\n  if o.enableControlSidebar\r\n    $.ItwayIO.controlSidebar.activate()\r\n  #Add slimscroll to navbar dropdown\r\n  #if (typeof $.fn.slimscroll != 'undefined') {\r\n  #    $(\".control-sidebar-bg\").slimscroll({\r\n  #        height: $(window).height() - o.navbarMenuHeight,\r\n  #        alwaysVisible: false,\r\n  #    }).css(\"width\", \"230px\");\r\n  #}\r\n  #Add slimscroll to navbar dropdown\r\n  if o.navbarMenuSlimscroll and typeof $.fn.slimscroll != 'undefined'\r\n    $('.navbar .menu').slimscroll(\r\n      height: o.navbarMenuHeight\r\n      alwaysVisible: false\r\n      size: o.navbarMenuSlimscrollWidth).css 'width', '100%'\r\n  #Activate sidebar push menu\r\n  if o.sidebarPushMenu\r\n    $.ItwayIO.pushMenu.activate o.sidebarToggleSelector\r\n  #//Activate Bootstrap tooltip\r\n  #if (o.enableBSToppltip) {\r\n  #    $('body').tooltip({\r\n  #        selector: o.BSTooltipSelector\r\n  #    });\r\n  #}\r\n  #Activate box widget\r\n  if o.enableBoxWidget\r\n    $.ItwayIO.boxWidget.activate()\r\n  #Activate fast click\r\n  if o.enableFastclick and typeof FastClick != 'undefined'\r\n    FastClick.attach document.body\r\n  #Activate direct chat widget\r\n  if o.directChat.enable\r\n    $(o.directChat.contactToggleSelector).on 'click', ->\r\n      box = $(this).parents('.direct-chat').first()\r\n      box.toggleClass 'direct-chat-contacts-open'\r\n      return\r\n\r\n  ###\r\n  # INITIALIZE BUTTON TOGGLE\r\n  # ------------------------\r\n  ###\r\n\r\n  $('.button-group[data-toggle=\"btn-toggle\"]').each ->\r\n    group = $(this)\r\n    $(this).find('.button').on 'click', (e) ->\r\n      group.find('.button.active').removeClass 'active'\r\n      $(this).addClass 'active'\r\n      e.preventDefault()\r\n      return\r\n    return\r\n  return\r\n\r\n### ------------------\r\n# - Custom Plugins -\r\n# ------------------\r\n# All custom plugins are defined below.\r\n###\r\n\r\n###\r\n# BOX REFRESH BUTTON\r\n# ------------------\r\n# This is a custom plugin to use with the component BOX. It allows you to add\r\n# a refresh button to the box. It converts the box's state to a loading state.\r\n#\r\n# @type plugin\r\n# @usage $(\"#box-widget\").boxRefresh( options );\r\n###\r\n\r\n(($) ->\r\n\r\n  $.fn.boxRefresh = (options) ->\r\n# Render options\r\n    settings = $.extend({\r\n      trigger: '.refresh-btn'\r\n      source: ''\r\n      onLoadStart: (box) ->\r\n      onLoadDone: (box) ->\r\n\r\n    }, options)\r\n    #The overlay\r\n    overlay = $('<div class=\"overlay\"><div class=\"fa fa-refresh fa-spin\"></div></div>')\r\n\r\n    start = (box) ->\r\n#Add overlay and loading img\r\n      box.append overlay\r\n      settings.onLoadStart.call box\r\n      return\r\n\r\n    done = (box) ->\r\n#Remove overlay and loading img\r\n      box.find(overlay).remove()\r\n      settings.onLoadDone.call box\r\n      return\r\n\r\n    @each ->\r\n#if a source is specified\r\n      if settings.source == ''\r\n        if console\r\n          console.log 'Please specify a source first - boxRefresh()'\r\n        return\r\n      #the box\r\n      box = $(this)\r\n      #the button\r\n      rBtn = box.find(settings.trigger).first()\r\n      #On trigger click\r\n      rBtn.on 'click', (e) ->\r\n        e.preventDefault()\r\n        #Add loading overlay\r\n        start box\r\n        #Perform ajax call\r\n        box.find('.box-body').load settings.source, ->\r\n          done box\r\n          return\r\n        return\r\n      return\r\n\r\n  return\r\n) jQuery\r\n\r\n###\r\n# TODO LIST CUSTOM PLUGIN\r\n# -----------------------\r\n# This plugin depends on iCheck plugin for checkbox and radio inputs\r\n#\r\n# @type plugin\r\n# @usage $(\"#todo-widget\").todolist( options );\r\n###\r\n(($) ->\r\n\r\n  $.fn.todolist = (options) ->\r\n# Render options\r\n    settings = $.extend({\r\n      onCheck: (ele) ->\r\n      onUncheck: (ele) ->\r\n\r\n    }, options)\r\n    @each ->\r\n      if typeof $.fn.iCheck != 'undefined'\r\n        $('input', this).on 'ifChecked', (event) ->\r\n          ele = $(this).parents('li').first()\r\n          ele.toggleClass 'done'\r\n          settings.onCheck.call ele\r\n          return\r\n        $('input', this).on 'ifUnchecked', (event) ->\r\n          ele = $(this).parents('li').first()\r\n          ele.toggleClass 'done'\r\n          settings.onUncheck.call ele\r\n          return\r\n      else\r\n        $('input', this).on 'change', (event) ->\r\n          ele = $(this).parents('li').first()\r\n          ele.toggleClass 'done'\r\n          settings.onCheck.call ele\r\n          return\r\n      return\r\n\r\n  return\r\n) jQuery\r\n\r\n# ---\r\n"]}